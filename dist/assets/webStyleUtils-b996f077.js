import{c as b,a as u}from"./devEnvironmentUtils-4eab2a99.js";import{s as m,bs as f,ct as l,bB as p,bv as c,bw as i,ai as w,aj as d,bt as h,bC as g}from"./index-9b3f7302.js";import{getStyleItemFromStyle as S}from"./webStyleSymbolUtils-ff61a780.js";async function D(e,a,t){if(!e.name)throw new m("style-symbol-reference-name-missing","Missing name in style symbol reference");if(e.styleName&&e.styleName==="Esri2DPointSymbolsStyle")return j(e,t);try{return N(await f(e,a,t),e.name,a,t)}catch(n){return l(n),null}}async function j(e,a){const t=p.replaceAll(/\{SymbolName\}/gi,e.name);try{const n=await c(t,a);return i(n.data)}catch(n){return l(n),null}}async function N(e,a,t,n){const y={portal:t&&t.portal!=null?t.portal:w.getDefault(),url:d(e.baseUrl),origin:"portal-item"},o=S(a,e.data);if(!o)throw new m("symbolstyleutils:symbol-name-not-found",`The symbol name '${a}' could not be found`,{symbolName:a});let r=h(g(o,"cimRef"),y);b()&&(r=u(r));try{const s=await c(r,n);return i(s.data)}catch(s){return l(s),null}}export{D as fetchCIMSymbolReference};
