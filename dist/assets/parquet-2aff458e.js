import{cu as bt,U as _t}from"./index-02eff6e6.js";let n;const f=new Array(128).fill(void 0);function d(r){return f[r]}f.push(void 0,null,!0,!1);let R=f.length;function pt(r){r<132||(f[r]=R,R=r)}function u(r){const t=d(r);return pt(r),t}function s(r){R===f.length&&f.push(f.length+1);const t=R;return R=f[t],f[t]=r,t}const it=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&it.decode();let v=null;function k(){return v!==null&&v.byteLength!==0||(v=new Uint8Array(n.memory.buffer)),v}function l(r,t){return r>>>=0,it.decode(k().subarray(r,r+t))}function D(r,t){return r>>>=0,k().subarray(r/1,r/1+t)}const Y=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>{n.__wbindgen_export_1.get(r.dtor)(r.a,r.b)});function ft(r,t,e,_){const i={a:r,b:t,cnt:1,dtor:e},a=(...g)=>{i.cnt++;const c=i.a;i.a=0;try{return _(c,i.b,...g)}finally{--i.cnt==0?(n.__wbindgen_export_1.get(i.dtor)(c,i.b),Y.unregister(i)):i.a=c}};return a.original=i,Y.register(a,i,i),a}function yt(r,t,e){n._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h976f7baa817b77e0(r,t,s(e))}function ht(){n.enable_tracing()}let w=0;const P=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},mt=typeof P.encodeInto=="function"?function(r,t){return P.encodeInto(r,t)}:function(r,t){const e=P.encode(r);return t.set(e),{read:r.length,written:e.length}};function O(r,t,e){if(e===void 0){const c=P.encode(r),p=t(c.length,1)>>>0;return k().subarray(p,p+c.length).set(c),w=c.length,p}let _=r.length,i=t(_,1)>>>0;const a=k();let g=0;for(;g<_;g++){const c=r.charCodeAt(g);if(c>127)break;a[i+g]=c}if(g!==_){g!==0&&(r=r.slice(g)),i=e(i,_,_=g+3*r.length,1)>>>0;const c=k().subarray(i+g,i+_);g+=mt(r,c).written,i=e(i,_,g,1)>>>0}return w=g,i}let h=null;function o(){return(h===null||h.buffer.detached===!0||h.buffer.detached===void 0&&h.buffer!==n.memory.buffer)&&(h=new DataView(n.memory.buffer)),h}function y(r,t){try{return r.apply(this,t)}catch(e){n.__wbindgen_exn_store(s(e))}}function kt(r,t,e,_){n.wasm_bindgen__convert__closures__invoke2_mut__h942ec15236fcac1d(r,t,s(e),s(_))}let T=null;function Ft(){return T!==null&&T.byteLength!==0||(T=new Float64Array(n.memory.buffer)),T}function It(r,t){return r>>>=0,Ft().subarray(r/8,r/8+t)}let x=null;function vt(){return x!==null&&x.byteLength!==0||(x=new Uint32Array(n.memory.buffer)),x}function Tt(r,t){return r>>>=0,vt().subarray(r/4,r/4+t)}function F(r,t){r>>>=0;const e=o(),_=[];for(let i=r;i<r+4*t;i+=4)_.push(u(e.getUint32(i,!0)));return _}let q=null;function xt(){return q!==null&&q.byteLength!==0||(q=new Uint16Array(n.memory.buffer)),q}function A(r,t){const e=t(2*r.length,2)>>>0;return xt().set(r,e/2),w=r.length,e}function ot(r,t,e){const _=O(r,n.__wbindgen_malloc,n.__wbindgen_realloc),i=w;return u(n.readMetadata(_,i,s(t),s(e)))}function at(r,t){const e=t(1*r.length,1)>>>0;return k().set(r,e/1),w=r.length,e}function qt(r){const t=at(r,n.__wbindgen_malloc),e=w;return u(n.readMetadataFromFile(t,e))}function L(r,t){if(!(r instanceof t))throw new Error(`expected instance of ${t.name}`);return r.ptr}function b(r){return r==null}function Mt(r,t,e,_,i){const a=O(r,n.__wbindgen_malloc,n.__wbindgen_realloc),g=w;L(_,I);var c=_.__destroy_into_raw();let p=0;return b(i)||(L(i,m),p=i.__destroy_into_raw()),u(n.readFile(a,g,s(t),s(e),c,p))}function Rt(r,t){let e=0;b(r)||(L(r,m),e=r.__destroy_into_raw());const _=at(t,n.__wbindgen_malloc),i=w;return u(n.readFileFromBinary(e,_,i))}const M=Object.freeze({Point:0,0:"Point",Polygon:1,1:"Polygon",Polyline:2,2:"Polyline",Multipoint:3,3:"Multipoint"}),zt=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeBigInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],$=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_columndescriptor_free(r>>>0,1));class W{static __wrap(t){t>>>=0;const e=Object.create(W.prototype);return e.__wbg_ptr=t,$.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,$.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_columndescriptor_free(t,0)}name(){let t,e;try{const a=n.__wbindgen_add_to_stack_pointer(-16);n.columndescriptor_name(a,this.__wbg_ptr);var _=o().getInt32(a+0,!0),i=o().getInt32(a+4,!0);return t=_,e=i,l(_,i)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,e,1)}}physicalType(){let t,e;try{const a=n.__wbindgen_add_to_stack_pointer(-16);n.columndescriptor_physicalType(a,this.__wbg_ptr);var _=o().getInt32(a+0,!0),i=o().getInt32(a+4,!0);return t=_,e=i,l(_,i)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,e,1)}}logicalType(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.columndescriptor_logicalType(_,this.__wbg_ptr);var t=o().getInt32(_+0,!0),e=o().getInt32(_+4,!0);let i;return t!==0&&(i=l(t,e).slice(),n.__wbindgen_free(t,1*e,1)),i}finally{n.__wbindgen_add_to_stack_pointer(16)}}encodings(){try{const i=n.__wbindgen_add_to_stack_pointer(-16);n.columndescriptor_encodings(i,this.__wbg_ptr);var t=o().getInt32(i+0,!0),e=o().getInt32(i+4,!0),_=F(t,e).slice();return n.__wbindgen_free(t,4*e,4),_}finally{n.__wbindgen_add_to_stack_pointer(16)}}pageEncodings(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.columndescriptor_pageEncodings(_,this.__wbg_ptr);var t=o().getInt32(_+0,!0),e=o().getInt32(_+4,!0);let i;return t!==0&&(i=F(t,e).slice(),n.__wbindgen_free(t,4*e,4)),i}finally{n.__wbindgen_add_to_stack_pointer(16)}}numValues(){return n.columndescriptor_numValues(this.__wbg_ptr)}compression(){let t,e;try{const a=n.__wbindgen_add_to_stack_pointer(-16);n.columndescriptor_compression(a,this.__wbg_ptr);var _=o().getInt32(a+0,!0),i=o().getInt32(a+4,!0);return t=_,e=i,l(_,i)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,e,1)}}compressedSize(){return n.columndescriptor_compressedSize(this.__wbg_ptr)}uncompressedSize(){return n.columndescriptor_uncompressedSize(this.__wbg_ptr)}nullCount(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.columndescriptor_nullCount(_,this.__wbg_ptr);var t=o().getInt32(_+0,!0),e=o().getBigInt64(_+8,!0);return t===0?void 0:e}finally{n.__wbindgen_add_to_stack_pointer(16)}}distinctCount(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.columndescriptor_distinctCount(_,this.__wbg_ptr);var t=o().getInt32(_+0,!0),e=o().getBigInt64(_+8,!0);return t===0?void 0:e}finally{n.__wbindgen_add_to_stack_pointer(16)}}minValue(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.columndescriptor_minValue(_,this.__wbg_ptr);var t=o().getInt32(_+0,!0),e=o().getInt32(_+4,!0);let i;return t!==0&&(i=D(t,e).slice(),n.__wbindgen_free(t,1*e,1)),i}finally{n.__wbindgen_add_to_stack_pointer(16)}}maxValue(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.columndescriptor_maxValue(_,this.__wbg_ptr);var t=o().getInt32(_+0,!0),e=o().getInt32(_+4,!0);let i;return t!==0&&(i=D(t,e).slice(),n.__wbindgen_free(t,1*e,1)),i}finally{n.__wbindgen_add_to_stack_pointer(16)}}}const N=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_fieldmetadata_free(r>>>0,1));class j{static __wrap(t){t>>>=0;const e=Object.create(j.prototype);return e.__wbg_ptr=t,N.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,N.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_fieldmetadata_free(t,0)}get name(){let t,e;try{const a=n.__wbindgen_add_to_stack_pointer(-16);n.fieldmetadata_name(a,this.__wbg_ptr);var _=o().getInt32(a+0,!0),i=o().getInt32(a+4,!0);return t=_,e=i,l(_,i)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,e,1)}}get index(){return n.fieldmetadata_index(this.__wbg_ptr)}get type(){const t=n.fieldmetadata_esri_type(this.__wbg_ptr);return zt[t]}get physicalType(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.fieldmetadata_physical_type(_,this.__wbg_ptr);var t=o().getInt32(_+0,!0),e=o().getInt32(_+4,!0);let i;return t!==0&&(i=l(t,e).slice(),n.__wbindgen_free(t,1*e,1)),i}finally{n.__wbindgen_add_to_stack_pointer(16)}}get logicalType(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.fieldmetadata_logical_type(_,this.__wbg_ptr);var t=o().getInt32(_+0,!0),e=o().getInt32(_+4,!0);let i;return t!==0&&(i=l(t,e).slice(),n.__wbindgen_free(t,1*e,1)),i}finally{n.__wbindgen_add_to_stack_pointer(16)}}}const J=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_filemetadata_free(r>>>0,1));class I{static __wrap(t){t>>>=0;const e=Object.create(I.prototype);return e.__wbg_ptr=t,J.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,J.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_filemetadata_free(t,0)}version(){return n.filemetadata_version(this.__wbg_ptr)}numRows(){return n.filemetadata_numRows(this.__wbg_ptr)>>>0}numFields(){return n.filemetadata_numFields(this.__wbg_ptr)>>>0}createdBy(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.filemetadata_createdBy(_,this.__wbg_ptr);var t=o().getInt32(_+0,!0),e=o().getInt32(_+4,!0);let i;return t!==0&&(i=l(t,e).slice(),n.__wbindgen_free(t,1*e,1)),i}finally{n.__wbindgen_add_to_stack_pointer(16)}}keyValueMetadata(t){try{const i=n.__wbindgen_add_to_stack_pointer(-16),a=O(t,n.__wbindgen_malloc,n.__wbindgen_realloc),g=w;n.filemetadata_keyValueMetadata(i,this.__wbg_ptr,a,g);var e=o().getInt32(i+0,!0),_=o().getInt32(i+4,!0);let c;return e!==0&&(c=l(e,_).slice(),n.__wbindgen_free(e,1*_,1)),c}finally{n.__wbindgen_add_to_stack_pointer(16)}}keys(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.filemetadata_keys(_,this.__wbg_ptr);var t=o().getInt32(_+0,!0),e=o().getInt32(_+4,!0);let i;return t!==0&&(i=F(t,e).slice(),n.__wbindgen_free(t,4*e,4)),i}finally{n.__wbindgen_add_to_stack_pointer(16)}}getFieldIndex(t){const e=O(t,n.__wbindgen_malloc,n.__wbindgen_realloc),_=w,i=n.filemetadata_getFieldIndex(this.__wbg_ptr,e,_);return i===16777215?void 0:i}getFieldByIndex(t){const e=n.filemetadata_getFieldByIndex(this.__wbg_ptr,t);return e===0?void 0:j.__wrap(e)}getFields(){try{const i=n.__wbindgen_add_to_stack_pointer(-16);n.filemetadata_getFields(i,this.__wbg_ptr);var t=o().getInt32(i+0,!0),e=o().getInt32(i+4,!0),_=F(t,e).slice();return n.__wbindgen_free(t,4*e,4),_}finally{n.__wbindgen_add_to_stack_pointer(16)}}}const H=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_geometryinfodescriptor_free(r>>>0,1));class m{static __wrap(t){t>>>=0;const e=Object.create(m.prototype);return e.__wbg_ptr=t,H.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,H.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_geometryinfodescriptor_free(t,0)}get geometryType(){const t=n.__wbg_get_geometryinfodescriptor_geometryType(this.__wbg_ptr);return t===4?void 0:t}set geometryType(t){n.__wbg_set_geometryinfodescriptor_geometryType(this.__wbg_ptr,b(t)?4:t)}get wkbIndex(){const t=n.__wbg_get_geometryinfodescriptor_wkbIndex(this.__wbg_ptr);return t===16777215?void 0:t}set wkbIndex(t){n.__wbg_set_geometryinfodescriptor_wkbIndex(this.__wbg_ptr,b(t)?16777215:t)}get lngIndex(){const t=n.__wbg_get_geometryinfodescriptor_lngIndex(this.__wbg_ptr);return t===16777215?void 0:t}set lngIndex(t){n.__wbg_set_geometryinfodescriptor_lngIndex(this.__wbg_ptr,b(t)?16777215:t)}get latIndex(){const t=n.__wbg_get_geometryinfodescriptor_latIndex(this.__wbg_ptr);return t===16777215?void 0:t}set latIndex(t){n.__wbg_set_geometryinfodescriptor_latIndex(this.__wbg_ptr,b(t)?16777215:t)}get inWkid(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_geometryinfodescriptor_inWkid(_,this.__wbg_ptr);var t=o().getInt32(_+0,!0),e=o().getInt32(_+4,!0);return t===0?void 0:e>>>0}finally{n.__wbindgen_add_to_stack_pointer(16)}}set inWkid(t){n.__wbg_set_geometryinfodescriptor_inWkid(this.__wbg_ptr,!b(t),b(t)?0:t)}get outWkid(){try{const _=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_geometryinfodescriptor_outWkid(_,this.__wbg_ptr);var t=o().getInt32(_+0,!0),e=o().getInt32(_+4,!0);return t===0?void 0:e>>>0}finally{n.__wbindgen_add_to_stack_pointer(16)}}set outWkid(t){n.__wbg_set_geometryinfodescriptor_outWkid(this.__wbg_ptr,!b(t),b(t)?0:t)}static new(){const t=n.geometryinfodescriptor_new();return m.__wrap(t)}}const Q=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_pageencodingdescriptor_free(r>>>0,1));class S{static __wrap(t){t>>>=0;const e=Object.create(S.prototype);return e.__wbg_ptr=t,Q.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Q.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_pageencodingdescriptor_free(t,0)}pageType(){let t,e;try{const a=n.__wbindgen_add_to_stack_pointer(-16);n.pageencodingdescriptor_pageType(a,this.__wbg_ptr);var _=o().getInt32(a+0,!0),i=o().getInt32(a+4,!0);return t=_,e=i,l(_,i)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,e,1)}}encoding(){let t,e;try{const a=n.__wbindgen_add_to_stack_pointer(-16);n.pageencodingdescriptor_encoding(a,this.__wbg_ptr);var _=o().getInt32(a+0,!0),i=o().getInt32(a+4,!0);return t=_,e=i,l(_,i)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,e,1)}}count(){return n.pageencodingdescriptor_count(this.__wbg_ptr)}}const Z=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_parquetchunk_free(r>>>0,1));class G{static __wrap(t){t>>>=0;const e=Object.create(G.prototype);return e.__wbg_ptr=t,Z.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Z.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_parquetchunk_free(t,0)}size(){return n.parquetchunk_size(this.__wbg_ptr)>>>0}hasField(t){return n.parquetchunk_hasField(this.__wbg_ptr,t)!==0}readX(t){return n.parquetchunk_readX(this.__wbg_ptr,t)}readY(t){return n.parquetchunk_readY(this.__wbg_ptr,t)}readCoords(t){try{const i=n.__wbindgen_add_to_stack_pointer(-16);n.parquetchunk_readCoords(i,this.__wbg_ptr,t);var e=o().getInt32(i+0,!0),_=o().getInt32(i+4,!0);let a;return e!==0&&(a=It(e,_).slice(),n.__wbindgen_free(e,8*_,8)),a}finally{n.__wbindgen_add_to_stack_pointer(16)}}readLengths(t){try{const i=n.__wbindgen_add_to_stack_pointer(-16);n.parquetchunk_readLengths(i,this.__wbg_ptr,t);var e=o().getInt32(i+0,!0),_=o().getInt32(i+4,!0);let a;return e!==0&&(a=Tt(e,_).slice(),n.__wbindgen_free(e,4*_,4)),a}finally{n.__wbindgen_add_to_stack_pointer(16)}}readGeometryTransformed(t,e,_,i,a){const g=n.parquetchunk_readGeometryTransformed(this.__wbg_ptr,t,e,_,i,a);return g===0?void 0:U.__wrap(g)}boundsXMin(t){return n.parquetchunk_boundsXMin(this.__wbg_ptr,t)}boundsYMin(t){return n.parquetchunk_boundsYMin(this.__wbg_ptr,t)}boundsXMax(t){return n.parquetchunk_boundsXMax(this.__wbg_ptr,t)}boundsYMax(t){return n.parquetchunk_boundsYMax(this.__wbg_ptr,t)}readAttribute(t,e){return u(n.parquetchunk_readAttribute(this.__wbg_ptr,t,e))}}const K=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_parquetfile_free(r>>>0,1));let st=class dt{static __wrap(t){t>>>=0;const e=Object.create(dt.prototype);return e.__wbg_ptr=t,K.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,K.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_parquetfile_free(t,0)}metadata(){const t=n.parquetfile_metadata(this.__wbg_ptr);return I.__wrap(t)}rowGroups(){try{const i=n.__wbindgen_add_to_stack_pointer(-16);n.parquetfile_rowGroups(i,this.__wbg_ptr);var t=o().getInt32(i+0,!0),e=o().getInt32(i+4,!0),_=F(t,e).slice();return n.__wbindgen_free(t,4*e,4),_}finally{n.__wbindgen_add_to_stack_pointer(16)}}readChunksWithCallback(t,e){const _=A(t,n.__wbindgen_malloc),i=w;return u(n.parquetfile_readChunksWithCallback(this.__wbg_ptr,_,i,s(e)))}readFirstChunk(t){const e=A(t,n.__wbindgen_malloc),_=w;return u(n.parquetfile_readFirstChunk(this.__wbg_ptr,e,_))}readAllChunks(t){const e=A(t,n.__wbindgen_malloc),_=w;return u(n.parquetfile_readAllChunks(this.__wbg_ptr,e,_))}updateChunks(t){const e=A(t,n.__wbindgen_malloc),_=w;return u(n.parquetfile_updateChunks(this.__wbg_ptr,e,_))}};const tt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_quantizedgeometry_free(r>>>0,1));class U{static __wrap(t){t>>>=0;const e=Object.create(U.prototype);return e.__wbg_ptr=t,tt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,tt.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_quantizedgeometry_free(t,0)}readCoordsUnsafe(){return u(n.quantizedgeometry_readCoordsUnsafe(this.__wbg_ptr))}readLengthsUnsafe(){return u(n.quantizedgeometry_readLengthsUnsafe(this.__wbg_ptr))}}const et=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_rangeproviderjs_free(r>>>0,1));class z{static __wrap(t){t>>>=0;const e=Object.create(z.prototype);return e.__wbg_ptr=t,et.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,et.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_rangeproviderjs_free(t,0)}static new(t,e){const _=n.rangeproviderjs_new(s(t),s(e));return z.__wrap(_)}static withFetch(){const t=n.rangeproviderjs_withFetch();return z.__wrap(t)}}const nt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>n.__wbg_rowgroup_free(r>>>0,1));class E{static __wrap(t){t>>>=0;const e=Object.create(E.prototype);return e.__wbg_ptr=t,nt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,nt.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_rowgroup_free(t,0)}columns(){try{const i=n.__wbindgen_add_to_stack_pointer(-16);n.rowgroup_columns(i,this.__wbg_ptr);var t=o().getInt32(i+0,!0),e=o().getInt32(i+4,!0),_=F(t,e).slice();return n.__wbindgen_free(t,4*e,4),_}finally{n.__wbindgen_add_to_stack_pointer(16)}}}async function Ot(r,t){if(typeof Response=="function"&&r instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(r,t)}catch(_){if(r.headers.get("Content-Type")=="application/wasm")throw _;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",_)}const e=await r.arrayBuffer();return await WebAssembly.instantiate(e,t)}{const e=await WebAssembly.instantiate(r,t);return e instanceof WebAssembly.Instance?{instance:e,module:r}:e}}function gt(){const r={wbg:{}};return r.wbg.__wbg_new_abda76e883ba8a5f=function(){return s(new Error)},r.wbg.__wbg_stack_658279fe44541cf6=function(t,e){const _=O(d(e).stack,n.__wbindgen_malloc,n.__wbindgen_realloc),i=w;o().setInt32(t+4,i,!0),o().setInt32(t+0,_,!0)},r.wbg.__wbg_error_f851667af71bcfc6=function(t,e){let _,i;try{_=t,i=e,console.error(l(t,e))}finally{n.__wbindgen_free(_,i,1)}},r.wbg.__wbindgen_object_drop_ref=function(t){u(t)},r.wbg.__wbindgen_is_function=function(t){return typeof d(t)=="function"},r.wbg.__wbg_self_3093d5d1f7bcb682=function(){return y(function(){return s(self.self)},arguments)},r.wbg.__wbg_window_3bcfc4d31bc012f8=function(){return y(function(){return s(window.window)},arguments)},r.wbg.__wbg_globalThis_86b222e13bdf32ed=function(){return y(function(){return s(globalThis.globalThis)},arguments)},r.wbg.__wbg_global_e5a3fe56f8be9485=function(){return y(function(){return s(global.global)},arguments)},r.wbg.__wbindgen_is_undefined=function(t){return d(t)===void 0},r.wbg.__wbg_newnoargs_76313bd6ff35d0f2=function(t,e){return s(new Function(l(t,e)))},r.wbg.__wbindgen_object_clone_ref=function(t){return s(d(t))},r.wbg.__wbindgen_number_new=function(t){return s(t)},r.wbg.__wbindgen_string_new=function(t,e){return s(l(t,e))},r.wbg.__wbg_call_1084a111329e68ce=function(){return y(function(t,e){return s(d(t).call(d(e)))},arguments)},r.wbg.__wbg_call_89af060b4e1523f2=function(){return y(function(t,e,_){return s(d(t).call(d(e),d(_)))},arguments)},r.wbg.__wbg_call_7de908392845a9a5=function(){return y(function(t,e,_,i,a){return s(d(t).call(d(e),d(_),d(i),d(a)))},arguments)},r.wbg.__wbg_valueOf_563b3487b1b116aa=function(t){return d(t).valueOf()},r.wbg.__wbg_buffer_b7b08af79b0b0974=function(t){return s(d(t).buffer)},r.wbg.__wbg_new_b85e72ed1bfd57f9=function(t,e){try{var _={a:t,b:e},i=(a,g)=>{const c=_.a;_.a=0;try{return kt(c,_.b,a,g)}finally{_.a=c}};return s(new Promise(i))}finally{_.a=_.b=0}},r.wbg.__wbg_resolve_570458cb99d56a43=function(t){return s(Promise.resolve(d(t)))},r.wbg.__wbg_then_95e6edc0f89b73b1=function(t,e){return s(d(t).then(d(e)))},r.wbg.__wbg_then_876bb3c633745cc6=function(t,e,_){return s(d(t).then(d(e),d(_)))},r.wbg.__wbg_newwithbyteoffsetandlength_b5293b0eedbac651=function(t,e,_){return s(new Int16Array(d(t),e>>>0,_>>>0))},r.wbg.__wbg_new_ea1883e1e5e86686=function(t){return s(new Uint8Array(d(t)))},r.wbg.__wbg_newwithbyteoffsetandlength_874df3e29cb555f9=function(t,e,_){return s(new Uint32Array(d(t),e>>>0,_>>>0))},r.wbg.__wbg_length_8339fcf5d8ecd12e=function(t){return d(t).length},r.wbg.__wbg_set_d1e79e2388520f18=function(t,e,_){d(t).set(d(e),_>>>0)},r.wbg.__wbindgen_throw=function(t,e){throw new Error(l(t,e))},r.wbg.__wbindgen_memory=function(){return s(n.memory)},r.wbg.__wbindgen_array_new=function(){return s([])},r.wbg.__wbindgen_array_push=function(t,e){d(t).push(u(e))},r.wbg.__wbindgen_uint8_array_new=function(t,e){var _=D(t,e).slice();return n.__wbindgen_free(t,1*e,1),s(_)},r.wbg.__wbg_queueMicrotask_48421b3cc9052b68=function(t){return s(d(t).queueMicrotask)},r.wbg.__wbindgen_cb_drop=function(t){const e=u(t).original;return e.cnt--==1?(e.a=0,!0):!1},r.wbg.__wbg_queueMicrotask_12a30234db4045d3=function(t){queueMicrotask(d(t))},r.wbg.__wbg_parquetchunk_new=function(t){return s(G.__wrap(t))},r.wbg.__wbg_parquetfile_new=function(t){return s(st.__wrap(t))},r.wbg.__wbg_filemetadata_new=function(t){return s(I.__wrap(t))},r.wbg.__wbg_fieldmetadata_new=function(t){return s(j.__wrap(t))},r.wbg.__wbg_rowgroup_new=function(t){return s(E.__wrap(t))},r.wbg.__wbg_columndescriptor_new=function(t){return s(W.__wrap(t))},r.wbg.__wbg_pageencodingdescriptor_new=function(t){return s(S.__wrap(t))},r.wbg.__wbindgen_closure_wrapper1461=function(t,e,_){return s(ft(t,e,75,yt))},r}function ct(r,t){return n=r.exports,ut.__wbindgen_wasm_module=t,h=null,T=null,q=null,x=null,v=null,n.__wbindgen_start(),n}function Ct(r){if(n!==void 0)return n;r!==void 0&&(Object.getPrototypeOf(r)===Object.prototype?{module:r}=r:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const t=gt();return r instanceof WebAssembly.Module||(r=new WebAssembly.Module(r)),ct(new WebAssembly.Instance(r,t),r)}async function ut(r){if(n!==void 0)return n;r!==void 0&&(Object.getPrototypeOf(r)===Object.prototype?{module_or_path:r}=r:console.warn("using deprecated parameters for the initialization function; pass a single object instead"));const t=gt();(typeof r=="string"||typeof Request=="function"&&r instanceof Request||typeof URL=="function"&&r instanceof URL)&&(r=fetch(r));const{instance:e,module:_}=await Ot(await r,t);return ct(e,_)}const jt=Object.freeze(Object.defineProperty({__proto__:null,ColumnDescriptor:W,FieldMetadata:j,FileMetadata:I,GeometryInfoDescriptor:m,GeometryType:M,PageEncodingDescriptor:S,ParquetChunk:G,ParquetFile:st,QuantizedGeometry:U,RangeProviderJs:z,RowGroup:E,default:ut,enable_tracing:ht,initSync:Ct,readFile:Mt,readFileFromBinary:Rt,readMetadata:ot,readMetadataFromFile:qt},Symbol.toStringTag,{value:"Module"}));let B=null;async function V(){return B||(B=At()),B}async function At(){const r=await Promise.resolve().then(()=>jt);return await r.default({module_or_path:bt("esri/libs/parquet/pkg/arcgis_parquet_bg.wasm")}),r}const lt=r=>async function(t,e,_){const i=r(),{data:a}=await _t(t,{responseType:"array-buffer",query:i,headers:{range:`bytes=${e}-${_}`}});return a},wt=r=>async function(t){const e=r(),{data:_}=await _t(t,{responseType:"native",method:"head",query:e}),i=_.headers.get("Content-Length");if(i==null)throw new Error("Unable to parse content length");return parseInt(i,10)};class C{static async create(t,e){const _=await V(),i=await _.readMetadata(t,lt(e),wt(e));return C.fromFileMetadata(i)}static fromFileMetadata(t){const e=[];for(let _=0;_<t.numFields();_++){const i=t.getFieldByIndex(_);e.push({name:i.name,type:i.type,alias:i.name,index:i.index}),i.free()}return new C(t,e)}constructor(t,e){this._inner=t,this.fields=e}destroy(){this._inner.free()}[Symbol.dispose](){this.destroy()}get size(){return this._inner.numRows()}getFieldIndex(t){return this._inner.getFieldIndex(t)}tryReadGeoMetadata(){const t=this._inner.keyValueMetadata("geo");return t==null?null:JSON.parse(t)}}function Pt(r){switch(r){case"esriGeometryPoint":return M.Point;case"esriGeometryPolygon":return M.Polygon;case"esriGeometryPolyline":return M.Polyline;case"esriGeometryMultipoint":return M.Multipoint;default:throw new Error(`InternalError: Found unexpected GeometryType: ${r}`)}}function rt(r,t,e){const _=m.new();return _.geometryType=Pt(r.geometryType),r.type==="location"?(_.latIndex=t.getFieldIndex(r.latitudeFieldName),_.lngIndex=t.getFieldIndex(r.longitudeFieldName)):_.wkbIndex=t.getFieldIndex(r.primaryFieldName),_.inWkid=r.spatialReference.wkid,e&&(_.outWkid=e.wkid),_}class X{static async create(t,e){const _=await V(),i=lt(e.getCustomParameters),a=wt(e.getCustomParameters),g=await ot(t,i,a),c=rt(e.geometryInfo,g,e.outSpatialReference),p=await _.readFile(t,i,a,g,c);return new X(p,C.fromFileMetadata(p.metadata()))}static async fromFile(t,e,_){const i=await V(),a=await i.readMetadataFromFile(t),g=e?rt(e,a,_):void 0,c=await i.readFileFromBinary(g,t);return new X(c,C.fromFileMetadata(c.metadata()))}constructor(t,e){this.inner=t,this.metadata=e}destroy(){this.inner.free(),this.metadata.destroy()}[Symbol.dispose](){this.destroy()}}export{X as T};
