import{bz as Ht,iJ as ht,iK as $t,iL as Te,iM as zt,iN as Kt,iO as Z,iP as oe,iQ as Ut,bA as D,bx as pt,by as mt,dE as re,bB as Ce,bw as Wt,fZ as Vt,er as jt,bC as _t,iH as De,f_ as Yt}from"./index-a1a1303e.js";import{d as vt,g as gt}from"./loader-0c95702a.js";import{u as Xt,c as Gt,a as qt,s as Qt,d as Zt,b as Jt,h as bt}from"./t9n-325999a0.js";import{s as yt,a as wt,c as xt}from"./loadable-8a36367d.js";import{d as Et}from"./action-821175ae.js";import{d as Pt}from"./icon-2b0bc1b7.js";import{d as en}from"./debounce-00dc07ae.js";import{c as tn}from"./observers-2492d93c.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 */function $e(e,t){return(e+t)%t}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 */const Tt=["top","right","bottom","left"],ze=["start","end"],Ke=Tt.reduce((e,t)=>e.concat(t,t+"-"+ze[0],t+"-"+ze[1]),[]),ee=Math.min,G=Math.max,de=Math.round,ue=Math.floor,_=e=>({x:e,y:e}),nn={left:"right",right:"left",bottom:"top",top:"bottom"},on={start:"end",end:"start"};function Fe(e,t,n){return G(e,ee(t,n))}function Q(e,t){return typeof e=="function"?e(t):e}function U(e){return e.split("-")[0]}function $(e){return e.split("-")[1]}function Ot(e){return e==="x"?"y":"x"}function Be(e){return e==="y"?"height":"width"}function ye(e){return["top","bottom"].includes(U(e))?"y":"x"}function Se(e){return Ot(ye(e))}function At(e,t,n){n===void 0&&(n=!1);const i=$(e),o=Se(e),r=Be(o);let s=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(s=pe(s)),[s,pe(s)]}function sn(e){const t=pe(e);return[he(e),t,he(t)]}function he(e){return e.replace(/start|end/g,t=>on[t])}function rn(e,t,n){const i=["left","right"],o=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?r:s;default:return[]}}function an(e,t,n,i){const o=$(e);let r=rn(U(e),n==="start",i);return o&&(r=r.map(s=>s+"-"+o),t&&(r=r.concat(r.map(he)))),r}function pe(e){return e.replace(/left|right|bottom|top/g,t=>nn[t])}function cn(e){return{top:0,right:0,bottom:0,left:0,...e}}function kt(e){return typeof e!="number"?cn(e):{top:e,right:e,bottom:e,left:e}}function me(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Ue(e,t,n){let{reference:i,floating:o}=e;const r=ye(t),s=Se(t),c=Be(s),u=U(t),f=r==="y",m=i.x+i.width/2-o.width/2,p=i.y+i.height/2-o.height/2,v=i[c]/2-o[c]/2;let h;switch(u){case"top":h={x:m,y:i.y-o.height};break;case"bottom":h={x:m,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:p};break;case"left":h={x:i.x-o.width,y:p};break;default:h={x:i.x,y:i.y}}switch($(t)){case"start":h[s]-=v*(n&&f?-1:1);break;case"end":h[s]+=v*(n&&f?-1:1);break}return h}const ln=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:r=[],platform:s}=n,c=r.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let f=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:p}=Ue(f,i,u),v=i,h={},g=0;for(let y=0;y<c.length;y++){const{name:T,fn:b}=c[y],{x:E,y:k,data:F,reset:O}=await b({x:m,y:p,initialPlacement:i,placement:v,strategy:o,middlewareData:h,rects:f,platform:s,elements:{reference:e,floating:t}});if(m=E??m,p=k??p,h={...h,[T]:{...h[T],...F}},O&&g<=50){g++,typeof O=="object"&&(O.placement&&(v=O.placement),O.rects&&(f=O.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):O.rects),{x:m,y:p}=Ue(f,v,u)),y=-1;continue}}return{x:m,y:p,placement:v,strategy:o,middlewareData:h}};async function ce(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:r,rects:s,elements:c,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:v=!1,padding:h=0}=Q(t,e),g=kt(h),T=c[v?p==="floating"?"reference":"floating":p],b=me(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(T)))==null||n?T:T.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:u})),E=p==="floating"?{...s.floating,x:i,y:o}:s.reference,k=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),F=await(r.isElement==null?void 0:r.isElement(k))?await(r.getScale==null?void 0:r.getScale(k))||{x:1,y:1}:{x:1,y:1},O=me(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:E,offsetParent:k,strategy:u}):E);return{top:(b.top-O.top+g.top)/F.y,bottom:(O.bottom-b.bottom+g.bottom)/F.y,left:(b.left-O.left+g.left)/F.x,right:(O.right-b.right+g.right)/F.x}}const un=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:r,platform:s,elements:c}=t,{element:u,padding:f=0}=Q(e,t)||{};if(u==null)return{};const m=kt(f),p={x:n,y:i},v=Se(o),h=Be(v),g=await s.getDimensions(u),y=v==="y",T=y?"top":"left",b=y?"bottom":"right",E=y?"clientHeight":"clientWidth",k=r.reference[h]+r.reference[v]-p[v]-r.floating[h],F=p[v]-r.reference[v],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let C=O?O[E]:0;(!C||!await(s.isElement==null?void 0:s.isElement(O)))&&(C=c.floating[E]||r.floating[h]);const L=k/2-F/2,M=C/2-g[h]/2-1,B=ee(m[T],M),w=ee(m[b],M),a=B,l=C-g[h]-w,d=C/2-g[h]/2+L,x=Fe(a,d,l),A=$(o)!=null&&d!=x&&r.reference[h]/2-(d<a?B:w)-g[h]/2<0?d<a?a-d:l-d:0;return{[v]:p[v]-A,data:{[v]:x,centerOffset:d-x+A}}}});function fn(e,t,n){return(e?[...n.filter(o=>$(o)===e),...n.filter(o=>$(o)!==e)]:n.filter(o=>U(o)===o)).filter(o=>e?$(o)===e||(t?he(o)!==o:!1):!0)}const dn=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,i,o;const{rects:r,middlewareData:s,placement:c,platform:u,elements:f}=t,{crossAxis:m=!1,alignment:p,allowedPlacements:v=Ke,autoAlignment:h=!0,...g}=Q(e,t),y=p!==void 0||v===Ke?fn(p||null,h,v):v,T=await ce(t,g),b=((n=s.autoPlacement)==null?void 0:n.index)||0,E=y[b];if(E==null)return{};const k=At(E,r,await(u.isRTL==null?void 0:u.isRTL(f.floating)));if(c!==E)return{reset:{placement:y[0]}};const F=[T[U(E)],T[k[0]],T[k[1]]],O=[...((i=s.autoPlacement)==null?void 0:i.overflows)||[],{placement:E,overflows:F}],C=y[b+1];if(C)return{data:{index:b+1,overflows:O},reset:{placement:C}};const L=O.map(w=>{const a=$(w.placement);return[w.placement,a&&m?w.overflows.slice(0,2).reduce((l,d)=>l+d,0):w.overflows[0],w.overflows]}).sort((w,a)=>w[1]-a[1]),B=((o=L.filter(w=>w[2].slice(0,$(w[0])?2:3).every(a=>a<=0))[0])==null?void 0:o[0])||L[0][0];return B!==c?{data:{index:b+1,overflows:O},reset:{placement:B}}:{}}}},We=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:i,middlewareData:o,rects:r,initialPlacement:s,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:g=!0,...y}=Q(e,t),T=U(i),b=U(s)===s,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=p||(b||!g?[pe(s)]:sn(s));!p&&h!=="none"&&k.push(...an(s,g,h,E));const F=[s,...k],O=await ce(t,y),C=[];let L=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&C.push(O[T]),m){const a=At(i,r,E);C.push(O[a[0]],O[a[1]])}if(L=[...L,{placement:i,overflows:C}],!C.every(a=>a<=0)){var M,B;const a=(((M=o.flip)==null?void 0:M.index)||0)+1,l=F[a];if(l)return{data:{index:a,overflows:L},reset:{placement:l}};let d=(B=L.filter(x=>x.overflows[0]<=0).sort((x,P)=>x.overflows[1]-P.overflows[1])[0])==null?void 0:B.placement;if(!d)switch(v){case"bestFit":{var w;const x=(w=L.map(P=>[P.placement,P.overflows.filter(A=>A>0).reduce((A,R)=>A+R,0)]).sort((P,A)=>P[1]-A[1])[0])==null?void 0:w[0];x&&(d=x);break}case"initialPlacement":d=s;break}if(i!==d)return{reset:{placement:d}}}return{}}}};function Ve(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function je(e){return Tt.some(t=>e[t]>=0)}const hn=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...o}=Q(e,t);switch(i){case"referenceHidden":{const r=await ce(t,{...o,elementContext:"reference"}),s=Ve(r,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:je(s)}}}case"escaped":{const r=await ce(t,{...o,altBoundary:!0}),s=Ve(r,n.floating);return{data:{escapedOffsets:s,escaped:je(s)}}}default:return{}}}}};async function pn(e,t){const{placement:n,platform:i,elements:o}=e,r=await(i.isRTL==null?void 0:i.isRTL(o.floating)),s=U(n),c=$(n),u=ye(n)==="y",f=["left","top"].includes(s)?-1:1,m=r&&u?-1:1,p=Q(t,e);let{mainAxis:v,crossAxis:h,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return c&&typeof g=="number"&&(h=c==="end"?g*-1:g),u?{x:h*m,y:v*f}:{x:v*f,y:h*m}}const mn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:i}=t,o=await pn(t,e);return{x:n+o.x,y:i+o.y,data:o}}}},vn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:r=!0,crossAxis:s=!1,limiter:c={fn:T=>{let{x:b,y:E}=T;return{x:b,y:E}}},...u}=Q(e,t),f={x:n,y:i},m=await ce(t,u),p=ye(U(o)),v=Ot(p);let h=f[v],g=f[p];if(r){const T=v==="y"?"top":"left",b=v==="y"?"bottom":"right",E=h+m[T],k=h-m[b];h=Fe(E,h,k)}if(s){const T=p==="y"?"top":"left",b=p==="y"?"bottom":"right",E=g+m[T],k=g-m[b];g=Fe(E,g,k)}const y=c.fn({...t,[v]:h,[p]:g});return{...y,data:{x:y.x-n,y:y.y-i}}}}};function Y(e){return Ct(e)?(e.nodeName||"").toLowerCase():"#document"}function I(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function V(e){var t;return(t=(Ct(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ct(e){return e instanceof Node||e instanceof I(e).Node}function W(e){return e instanceof Element||e instanceof I(e).Element}function z(e){return e instanceof HTMLElement||e instanceof I(e).HTMLElement}function _e(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof I(e).ShadowRoot}function le(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=H(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function gn(e){return["table","td","th"].includes(Y(e))}function Ne(e){const t=Me(),n=H(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function bn(e){let t=te(e);for(;z(t)&&!we(t);){if(Ne(t))return t;t=te(t)}return null}function Me(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function we(e){return["html","body","#document"].includes(Y(e))}function H(e){return I(e).getComputedStyle(e)}function xe(e){return W(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function te(e){if(Y(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_e(e)&&e.host||V(e);return _e(t)?t.host:t}function Dt(e){const t=te(e);return we(t)?e.ownerDocument?e.ownerDocument.body:e.body:z(t)&&le(t)?t:Dt(t)}function ve(e,t){var n;t===void 0&&(t=[]);const i=Dt(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),r=I(i);return o?t.concat(r,r.visualViewport||[],le(i)?i:[]):t.concat(i,ve(i))}function Ft(e){const t=H(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=z(e),r=o?e.offsetWidth:n,s=o?e.offsetHeight:i,c=de(n)!==r||de(i)!==s;return c&&(n=r,i=s),{width:n,height:i,$:c}}function Ie(e){return W(e)?e:e.contextElement}function J(e){const t=Ie(e);if(!z(t))return _(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:r}=Ft(t);let s=(r?de(n.width):n.width)/i,c=(r?de(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const yn=_(0);function Rt(e){const t=I(e);return!Me()||!t.visualViewport?yn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==I(e)?!1:t}function q(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),r=Ie(e);let s=_(1);t&&(i?W(i)&&(s=J(i)):s=J(e));const c=wn(r,n,i)?Rt(r):_(0);let u=(o.left+c.x)/s.x,f=(o.top+c.y)/s.y,m=o.width/s.x,p=o.height/s.y;if(r){const v=I(r),h=i&&W(i)?I(i):i;let g=v.frameElement;for(;g&&i&&h!==v;){const y=J(g),T=g.getBoundingClientRect(),b=H(g),E=T.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,k=T.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;u*=y.x,f*=y.y,m*=y.x,p*=y.y,u+=E,f+=k,g=I(g).frameElement}}return me({width:m,height:p,x:u,y:f})}function xn(e){let{rect:t,offsetParent:n,strategy:i}=e;const o=z(n),r=V(n);if(n===r)return t;let s={scrollLeft:0,scrollTop:0},c=_(1);const u=_(0);if((o||!o&&i!=="fixed")&&((Y(n)!=="body"||le(r))&&(s=xe(n)),z(n))){const f=q(n);c=J(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-s.scrollLeft*c.x+u.x,y:t.y*c.y-s.scrollTop*c.y+u.y}}function En(e){return Array.from(e.getClientRects())}function Lt(e){return q(V(e)).left+xe(e).scrollLeft}function Pn(e){const t=V(e),n=xe(e),i=e.ownerDocument.body,o=G(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),r=G(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+Lt(e);const c=-n.scrollTop;return H(i).direction==="rtl"&&(s+=G(t.clientWidth,i.clientWidth)-o),{width:o,height:r,x:s,y:c}}function Tn(e,t){const n=I(e),i=V(e),o=n.visualViewport;let r=i.clientWidth,s=i.clientHeight,c=0,u=0;if(o){r=o.width,s=o.height;const f=Me();(!f||f&&t==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}return{width:r,height:s,x:c,y:u}}function On(e,t){const n=q(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,r=z(e)?J(e):_(1),s=e.clientWidth*r.x,c=e.clientHeight*r.y,u=o*r.x,f=i*r.y;return{width:s,height:c,x:u,y:f}}function Ye(e,t,n){let i;if(t==="viewport")i=Tn(e,n);else if(t==="document")i=Pn(V(e));else if(W(t))i=On(t,n);else{const o=Rt(e);i={...t,x:t.x-o.x,y:t.y-o.y}}return me(i)}function Bt(e,t){const n=te(e);return n===t||!W(n)||we(n)?!1:H(n).position==="fixed"||Bt(n,t)}function An(e,t){const n=t.get(e);if(n)return n;let i=ve(e).filter(c=>W(c)&&Y(c)!=="body"),o=null;const r=H(e).position==="fixed";let s=r?te(e):e;for(;W(s)&&!we(s);){const c=H(s),u=Ne(s);!u&&c.position==="fixed"&&(o=null),(r?!u&&!o:!u&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||le(s)&&!u&&Bt(e,s))?i=i.filter(m=>m!==s):o=c,s=te(s)}return t.set(e,i),i}function kn(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const s=[...n==="clippingAncestors"?An(t,this._c):[].concat(n),i],c=s[0],u=s.reduce((f,m)=>{const p=Ye(t,m,o);return f.top=G(p.top,f.top),f.right=ee(p.right,f.right),f.bottom=ee(p.bottom,f.bottom),f.left=G(p.left,f.left),f},Ye(t,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Cn(e){return Ft(e)}function Dn(e,t,n){const i=z(t),o=V(t),r=n==="fixed",s=q(e,!0,r,t);let c={scrollLeft:0,scrollTop:0};const u=_(0);if(i||!i&&!r)if((Y(t)!=="body"||le(o))&&(c=xe(t)),i){const f=q(t,!0,r,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else o&&(u.x=Lt(o));return{x:s.left+c.scrollLeft-u.x,y:s.top+c.scrollTop-u.y,width:s.width,height:s.height}}function Xe(e,t){return!z(e)||H(e).position==="fixed"?null:t?t(e):e.offsetParent}function St(e,t){const n=I(e);if(!z(e))return n;let i=Xe(e,t);for(;i&&gn(i)&&H(i).position==="static";)i=Xe(i,t);return i&&(Y(i)==="html"||Y(i)==="body"&&H(i).position==="static"&&!Ne(i))?n:i||bn(e)||n}const Fn=async function(e){let{reference:t,floating:n,strategy:i}=e;const o=this.getOffsetParent||St,r=this.getDimensions;return{reference:Dn(t,await o(n),i),floating:{x:0,y:0,...await r(n)}}};function Rn(e){return H(e).direction==="rtl"}const Re={convertOffsetParentRelativeRectToViewportRelativeRect:xn,getDocumentElement:V,getClippingRect:kn,getOffsetParent:St,getElementRects:Fn,getClientRects:En,getDimensions:Cn,getScale:J,isElement:W,isRTL:Rn};function Ln(e,t){let n=null,i;const o=V(e);function r(){clearTimeout(i),n&&n.disconnect(),n=null}function s(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),r();const{left:f,top:m,width:p,height:v}=e.getBoundingClientRect();if(c||t(),!p||!v)return;const h=ue(m),g=ue(o.clientWidth-(f+p)),y=ue(o.clientHeight-(m+v)),T=ue(f),E={rootMargin:-h+"px "+-g+"px "+-y+"px "+-T+"px",threshold:G(0,ee(1,u))||1};let k=!0;function F(O){const C=O[0].intersectionRatio;if(C!==u){if(!k)return s();C?s(!1,C):i=setTimeout(()=>{s(!1,1e-7)},100)}k=!1}try{n=new IntersectionObserver(F,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(F,E)}n.observe(e)}return s(!0),r}function Bn(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:r=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,f=Ie(e),m=o||r?[...f?ve(f):[],...ve(t)]:[];m.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),r&&b.addEventListener("resize",n)});const p=f&&c?Ln(f,n):null;let v=-1,h=null;s&&(h=new ResizeObserver(b=>{let[E]=b;E&&E.target===f&&h&&(h.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{h&&h.observe(t)})),n()}),f&&!u&&h.observe(f),h.observe(t));let g,y=u?q(e):null;u&&T();function T(){const b=q(e);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&n(),y=b,g=requestAnimationFrame(T)}return n(),()=>{m.forEach(b=>{o&&b.removeEventListener("scroll",n),r&&b.removeEventListener("resize",n)}),p&&p(),h&&h.disconnect(),h=null,u&&cancelAnimationFrame(g)}}const Sn=(e,t,n)=>{const i=new Map,o={platform:Re,...n},r={...o.platform,_c:i};return ln(e,t,{...o,platform:r})};function Nn(e){return Mn(e)}function Oe(e){return e.assignedSlot?e.assignedSlot:e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}function Mn(e){for(let t=e;t;t=Oe(t))if(t instanceof Element&&getComputedStyle(t).display==="none")return null;for(let t=Oe(e);t;t=Oe(t)){if(!(t instanceof Element))continue;const n=getComputedStyle(t);if(n.display!=="contents"&&(n.position!=="static"||n.filter!=="none"||t.tagName==="BODY"))return t}return null}(function(){{const t=Re.getOffsetParent;Re.getOffsetParent=n=>t(n,Nn)}})();const Nt=async(e,{referenceEl:t,floatingEl:n,overlayPositioning:i="absolute",placement:o,flipDisabled:r,flipPlacements:s,offsetDistance:c,offsetSkidding:u,arrowEl:f,type:m})=>{var F;if(!t||!n)return null;const{x:p,y:v,placement:h,strategy:g,middlewareData:y}=await Sn(t,n,{strategy:i,placement:o==="auto"||o==="auto-start"||o==="auto-end"?void 0:zn(n,o),middleware:Hn({placement:o,flipDisabled:r,flipPlacements:s,offsetDistance:c,offsetSkidding:u,arrowEl:f,type:m})});if(f&&y.arrow){const{x:O,y:C}=y.arrow,L=h.split("-")[0],M=O!=null?"left":"top",B=Wn[L],w={left:"",top:"",bottom:"",right:""};"floatingLayout"in e&&(e.floatingLayout=L==="left"||L==="right"?"horizontal":"vertical"),Object.assign(f.style,{...w,[M]:`${M=="left"?O:C}px`,[L]:"100%",transform:B})}const b=((F=y.hide)==null?void 0:F.referenceHidden)?"hidden":null,E=b?"none":null;n.setAttribute(In,h);const k=`translate(${Math.round(p)}px,${Math.round(v)}px)`;Object.assign(n.style,{visibility:b,pointerEvents:E,position:g,top:"0",left:"0",transform:k})},In="data-placement",Ge=100,qe=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end"],Qe={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function Hn({placement:e,flipDisabled:t,flipPlacements:n,offsetDistance:i,offsetSkidding:o,arrowEl:r,type:s}){const c=[vn(),hn()];if(s==="menu")return[...c,We({fallbackPlacements:n||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})];if(s==="popover"||s==="tooltip"){const u=[...c,mn({mainAxis:typeof i=="number"?i:0,crossAxis:typeof o=="number"?o:0})];return e==="auto"||e==="auto-start"||e==="auto-end"?u.push(dn({alignment:e==="auto-start"?"start":e==="auto-end"?"end":null})):t||u.push(We(n?{fallbackPlacements:n}:{})),r&&u.push(un({element:r})),u}return[]}function $n(e,t){const n=e.filter(i=>qe.includes(i));return n.length!==e.length&&console.warn(`${t.tagName}: Invalid value found in: flipPlacements. Try any of these: ${qe.map(i=>`"${i}"`).join(", ").trim()}`,{el:t}),n}function zn(e,t){const n=["left","right"];return Ht(e)==="rtl"&&n.reverse(),t.replace(/leading/gi,n[0]).replace(/trailing/gi,n[1])}async function Kn(e,t,n=!1){return e.open?(n?Un(e):Nt)(e,t):void 0}function Un(e){let t=ge.get(e);return t||(t=en(Nt,Ge,{leading:!0,maxWait:Ge}),ge.set(e,t),t)}const Wn={top:"",left:"rotate(-90deg)",bottom:"rotate(180deg)",right:"rotate(90deg)"},Le=new WeakMap,ge=new WeakMap;function Vn(e,t,n){if(!n||!t)return;Mt(e,t,n),Object.assign(n.style,{visibility:"hidden",pointerEvents:"none",position:e.overlayPositioning,top:"0",left:"0"});const i=Bn;Le.set(e,i(t,n,()=>e.reposition()))}function Mt(e,t,n){var i,o;!n||!t||((i=Le.get(e))==null||i(),Le.delete(e),(o=ge.get(e))==null||o.cancel(),ge.delete(e))}const Ze=4,jn=Math.ceil(Math.hypot(Ze,Ze));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 *//*!
* focus-trap 7.5.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Je(Object(n),!0).forEach(function(i){_n(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _n(e,t,n){return t=Xn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xn(e){var t=Yn(e,"string");return typeof t=="symbol"?t:String(t)}var tt={activateTrap:function(t,n){if(t.length>0){var i=t[t.length-1];i!==n&&i.pause()}var o=t.indexOf(n);o===-1||t.splice(o,1),t.push(n)},deactivateTrap:function(t,n){var i=t.indexOf(n);i!==-1&&t.splice(i,1),t.length>0&&t[t.length-1].unpause()}},Gn=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},qn=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},ae=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},Qn=function(t){return ae(t)&&!t.shiftKey},Zn=function(t){return ae(t)&&t.shiftKey},nt=function(t){return setTimeout(t,0)},it=function(t,n){var i=-1;return t.every(function(o,r){return n(o)?(i=r,!1):!0}),i},se=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return typeof t=="function"?t.apply(void 0,i):t},fe=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},Jn=[],ei=function(t,n){var i=(n==null?void 0:n.document)||document,o=(n==null?void 0:n.trapStack)||Jn,r=et({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Qn,isKeyBackward:Zn},n),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,u=function(a,l,d){return a&&a[l]!==void 0?a[l]:r[d||l]},f=function(a,l){var d=typeof(l==null?void 0:l.composedPath)=="function"?l.composedPath():void 0;return s.containerGroups.findIndex(function(x){var P=x.container,A=x.tabbableNodes;return P.contains(a)||(d==null?void 0:d.includes(P))||A.find(function(R){return R===a})})},m=function(a){var l=r[a];if(typeof l=="function"){for(var d=arguments.length,x=new Array(d>1?d-1:0),P=1;P<d;P++)x[P-1]=arguments[P];l=l.apply(void 0,x)}if(l===!0&&(l=void 0),!l){if(l===void 0||l===!1)return l;throw new Error("`".concat(a,"` was specified but was not a node, or did not return a node"))}var A=l;if(typeof l=="string"&&(A=i.querySelector(l),!A))throw new Error("`".concat(a,"` as selector refers to no known node"));return A},p=function(){var a=m("initialFocus");if(a===!1)return!1;if(a===void 0||!Te(a,r.tabbableOptions))if(f(i.activeElement)>=0)a=i.activeElement;else{var l=s.tabbableGroups[0],d=l&&l.firstTabbableNode;a=d||m("fallbackFocus")}if(!a)throw new Error("Your focus-trap needs to have at least one focusable element");return a},v=function(){if(s.containerGroups=s.containers.map(function(a){var l=zt(a,r.tabbableOptions),d=Kt(a,r.tabbableOptions),x=l.length>0?l[0]:void 0,P=l.length>0?l[l.length-1]:void 0,A=d.find(function(S){return Z(S)}),R=d.slice().reverse().find(function(S){return Z(S)}),N=!!l.find(function(S){return oe(S)>0});return{container:a,tabbableNodes:l,focusableNodes:d,posTabIndexesFound:N,firstTabbableNode:x,lastTabbableNode:P,firstDomTabbableNode:A,lastDomTabbableNode:R,nextTabbableNode:function(X){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,j=l.indexOf(X);return j<0?ne?d.slice(d.indexOf(X)+1).find(function(ie){return Z(ie)}):d.slice(0,d.indexOf(X)).reverse().find(function(ie){return Z(ie)}):l[j+(ne?1:-1)]}}}),s.tabbableGroups=s.containerGroups.filter(function(a){return a.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!m("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(s.containerGroups.find(function(a){return a.posTabIndexesFound})&&s.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function w(a){if(a!==!1&&a!==i.activeElement){if(!a||!a.focus){w(p());return}a.focus({preventScroll:!!r.preventScroll}),s.mostRecentlyFocusedNode=a,Gn(a)&&a.select()}},g=function(a){var l=m("setReturnFocus",a);return l||(l===!1?!1:a)},y=function(a){var l=a.target,d=a.event,x=a.isBackward,P=x===void 0?!1:x;l=l||fe(d),v();var A=null;if(s.tabbableGroups.length>0){var R=f(l,d),N=R>=0?s.containerGroups[R]:void 0;if(R<0)P?A=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:A=s.tabbableGroups[0].firstTabbableNode;else if(P){var S=it(s.tabbableGroups,function(Ee){var Pe=Ee.firstTabbableNode;return l===Pe});if(S<0&&(N.container===l||Te(l,r.tabbableOptions)&&!Z(l,r.tabbableOptions)&&!N.nextTabbableNode(l,!1))&&(S=R),S>=0){var X=S===0?s.tabbableGroups.length-1:S-1,ne=s.tabbableGroups[X];A=oe(l)>=0?ne.lastTabbableNode:ne.lastDomTabbableNode}else ae(d)||(A=N.nextTabbableNode(l,!1))}else{var j=it(s.tabbableGroups,function(Ee){var Pe=Ee.lastTabbableNode;return l===Pe});if(j<0&&(N.container===l||Te(l,r.tabbableOptions)&&!Z(l,r.tabbableOptions)&&!N.nextTabbableNode(l))&&(j=R),j>=0){var ie=j===s.tabbableGroups.length-1?0:j+1,He=s.tabbableGroups[ie];A=oe(l)>=0?He.firstTabbableNode:He.firstDomTabbableNode}else ae(d)||(A=N.nextTabbableNode(l))}}else A=m("fallbackFocus");return A},T=function(a){var l=fe(a);if(!(f(l,a)>=0)){if(se(r.clickOutsideDeactivates,a)){c.deactivate({returnFocus:r.returnFocusOnDeactivate});return}se(r.allowOutsideClick,a)||a.preventDefault()}},b=function(a){var l=fe(a),d=f(l,a)>=0;if(d||l instanceof Document)d&&(s.mostRecentlyFocusedNode=l);else{a.stopImmediatePropagation();var x,P=!0;if(s.mostRecentlyFocusedNode)if(oe(s.mostRecentlyFocusedNode)>0){var A=f(s.mostRecentlyFocusedNode),R=s.containerGroups[A].tabbableNodes;if(R.length>0){var N=R.findIndex(function(S){return S===s.mostRecentlyFocusedNode});N>=0&&(r.isKeyForward(s.recentNavEvent)?N+1<R.length&&(x=R[N+1],P=!1):N-1>=0&&(x=R[N-1],P=!1))}}else s.containerGroups.some(function(S){return S.tabbableNodes.some(function(X){return oe(X)>0})})||(P=!1);else P=!1;P&&(x=y({target:s.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(s.recentNavEvent)})),h(x||s.mostRecentlyFocusedNode||p())}s.recentNavEvent=void 0},E=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s.recentNavEvent=a;var d=y({event:a,isBackward:l});d&&(ae(a)&&a.preventDefault(),h(d))},k=function(a){if(qn(a)&&se(r.escapeDeactivates,a)!==!1){a.preventDefault(),c.deactivate();return}(r.isKeyForward(a)||r.isKeyBackward(a))&&E(a,r.isKeyBackward(a))},F=function(a){var l=fe(a);f(l,a)>=0||se(r.clickOutsideDeactivates,a)||se(r.allowOutsideClick,a)||(a.preventDefault(),a.stopImmediatePropagation())},O=function(){if(s.active)return tt.activateTrap(o,c),s.delayInitialFocusTimer=r.delayInitialFocus?nt(function(){h(p())}):h(p()),i.addEventListener("focusin",b,!0),i.addEventListener("mousedown",T,{capture:!0,passive:!1}),i.addEventListener("touchstart",T,{capture:!0,passive:!1}),i.addEventListener("click",F,{capture:!0,passive:!1}),i.addEventListener("keydown",k,{capture:!0,passive:!1}),c},C=function(){if(s.active)return i.removeEventListener("focusin",b,!0),i.removeEventListener("mousedown",T,!0),i.removeEventListener("touchstart",T,!0),i.removeEventListener("click",F,!0),i.removeEventListener("keydown",k,!0),c},L=function(a){var l=a.some(function(d){var x=Array.from(d.removedNodes);return x.some(function(P){return P===s.mostRecentlyFocusedNode})});l&&h(p())},M=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(L):void 0,B=function(){M&&(M.disconnect(),s.active&&!s.paused&&s.containers.map(function(a){M.observe(a,{subtree:!0,childList:!0})}))};return c={get active(){return s.active},get paused(){return s.paused},activate:function(a){if(s.active)return this;var l=u(a,"onActivate"),d=u(a,"onPostActivate"),x=u(a,"checkCanFocusTrap");x||v(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=i.activeElement,l==null||l();var P=function(){x&&v(),O(),B(),d==null||d()};return x?(x(s.containers.concat()).then(P,P),this):(P(),this)},deactivate:function(a){if(!s.active)return this;var l=et({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},a);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,C(),s.active=!1,s.paused=!1,B(),tt.deactivateTrap(o,c);var d=u(l,"onDeactivate"),x=u(l,"onPostDeactivate"),P=u(l,"checkCanReturnFocus"),A=u(l,"returnFocus","returnFocusOnDeactivate");d==null||d();var R=function(){nt(function(){A&&h(g(s.nodeFocusedBeforeActivation)),x==null||x()})};return A&&P?(P(g(s.nodeFocusedBeforeActivation)).then(R,R),this):(R(),this)},pause:function(a){if(s.paused||!s.active)return this;var l=u(a,"onPause"),d=u(a,"onPostPause");return s.paused=!0,l==null||l(),C(),B(),d==null||d(),this},unpause:function(a){if(!s.paused||!s.active)return this;var l=u(a,"onUnpause"),d=u(a,"onPostUnpause");return s.paused=!1,l==null||l(),v(),O(),B(),d==null||d(),this},updateContainerElements:function(a){var l=[].concat(a).filter(Boolean);return s.containers=l.map(function(d){return typeof d=="string"?i.querySelector(d):d}),s.active&&v(),B(),this}},c.updateContainerElements(t),c};const Ae=globalThis.calciteConfig,ti=(Ae==null?void 0:Ae.focusTrapStack)||[];function ni(e,t){const{el:n}=e,i=(t==null?void 0:t.focusTrapEl)||n;if(!i)return;const o={clickOutsideDeactivates:!0,escapeDeactivates:!1,fallbackFocus:i,setReturnFocus:r=>(ht(r),!1),...t==null?void 0:t.focusTrapOptions,document:n.ownerDocument,tabbableOptions:$t,trapStack:ti};e.focusTrap=ei(i,o)}function ot(e,t){var n;e.focusTrapDisabled||(n=e.focusTrap)==null||n.activate(t)}function ke(e,t){var n;(n=e.focusTrap)==null||n.deactivate(t)}function ii(e){var t;(t=e.focusTrap)==null||t.updateContainerElements(e.el)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 */function be(e){return"opened"in e?e.opened:e.open}function st(e,t=!1){(t?e[e.transitionProp]:be(e))?e.onBeforeOpen():e.onBeforeClose(),(t?e[e.transitionProp]:be(e))?e.onOpen():e.onClose()}function rt(e,t=!1){Ut(()=>{if(e.transitionEl){let f=function(p){p.propertyName===e.openTransitionProp&&p.target===e.transitionEl&&(clearTimeout(u),e.transitionEl.removeEventListener("transitionstart",f),(t?e[e.transitionProp]:be(e))?e.onBeforeOpen():e.onBeforeClose())},m=function(p){p.propertyName===e.openTransitionProp&&p.target===e.transitionEl&&((t?e[e.transitionProp]:be(e))?e.onOpen():e.onClose(),e.transitionEl.removeEventListener("transitionend",m),e.transitionEl.removeEventListener("transitioncancel",m))};const{transitionDuration:n,transitionProperty:i}=getComputedStyle(e.transitionEl),o=n.split(","),s=i.split(",").indexOf(e.openTransitionProp),c=o[s]??o[0];if(c==="0s"){st(e,t);return}const u=setTimeout(()=>{e.transitionEl.removeEventListener("transitionstart",f),e.transitionEl.removeEventListener("transitionend",m),e.transitionEl.removeEventListener("transitioncancel",m),st(e,t)},parseFloat(c)*1e3);e.transitionEl.addEventListener("transitionstart",f),e.transitionEl.addEventListener("transitionend",m),e.transitionEl.addEventListener("transitioncancel",m)}})}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 */const oi=(e,t)=>{const n=e.level?`h${e.level}`:"div";return delete e.level,D(n,{...e},t)};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 */const at={arrow:"calcite-floating-ui-arrow",arrowStroke:"calcite-floating-ui-arrow__stroke"},si={width:12,height:6,strokeWidth:1},ri=({floatingLayout:e,key:t,ref:n})=>{const{width:i,height:o,strokeWidth:r}=si,s=i/2,c=e==="vertical",u=`M0,0 H${i} L${i-s},${o} Q${s},${o} ${s},${o} Z`;return D("svg",{"aria-hidden":"true",class:at.arrow,height:i,key:t,ref:n,viewBox:`0 0 ${i} ${i+(c?0:r)}`,width:i+(c?r:0)},r>0&&D("path",{class:at.arrowStroke,d:u,fill:"none","stroke-width":r+1}),D("path",{d:u,stroke:"none"}))};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 */const K={container:"container",imageContainer:"image-container",closeButtonContainer:"close-button-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContent:"header-content",heading:"heading"},ai="auto",ct="aria-controls",lt="aria-expanded";class ci{constructor(){this.registeredElements=new Map,this.registeredElementCount=0,this.queryPopover=t=>{const{registeredElements:n}=this,i=t.find(o=>n.has(o));return n.get(i)},this.togglePopovers=t=>{const n=t.composedPath(),i=this.queryPopover(n);i&&!i.triggerDisabled&&(i.open=!i.open),Array.from(this.registeredElements.values()).filter(o=>o!==i&&o.autoClose&&o.open&&!n.includes(o)).forEach(o=>o.open=!1)},this.keyHandler=t=>{t.defaultPrevented||(t.key==="Escape"?this.closeAllPopovers():bt(t.key)&&this.togglePopovers(t))},this.clickHandler=t=>{De(t)&&this.togglePopovers(t)}}registerElement(t,n){this.registeredElementCount++,this.registeredElements.set(t,n),this.registeredElementCount===1&&this.addListeners()}unregisterElement(t){this.registeredElements.delete(t)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}closeAllPopovers(){Array.from(this.registeredElements.values()).forEach(t=>t.open=!1)}addListeners(){document.addEventListener("pointerdown",this.clickHandler,{capture:!0}),document.addEventListener("keydown",this.keyHandler,{capture:!0})}removeListeners(){document.removeEventListener("pointerdown",this.clickHandler,{capture:!0}),document.removeEventListener("keydown",this.keyHandler,{capture:!0})}}const li=":host{--calcite-floating-ui-z-index:var(--calcite-popover-z-index, var(--calcite-app-z-index-popup));display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index)}.calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-app-z-index);border-radius:0.25rem}:host([data-placement^=bottom]) .calcite-floating-ui-anim{transform:translateY(-5px)}:host([data-placement^=top]) .calcite-floating-ui-anim{transform:translateY(5px)}:host([data-placement^=left]) .calcite-floating-ui-anim{transform:translateX(5px)}:host([data-placement^=right]) .calcite-floating-ui-anim{transform:translateX(-5px)}:host([data-placement]) .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-app-z-index) * -1);fill:var(--calcite-ui-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-ui-border-3)}:host([scale=s]) .heading{padding-inline:0.75rem;padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding-inline:1rem;padding-block:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding-inline:1.25rem;padding-block:1rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host{pointer-events:none}:host([open]){pointer-events:initial}.calcite-floating-ui-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1)}.arrow::before{outline:1px solid var(--calcite-ui-border-3)}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-block-end-width:1px;border-style:solid;border-block-end-color:var(--calcite-ui-border-3)}.heading{margin:0px;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);word-wrap:break-word;word-break:break-word}.container{position:relative;display:flex;block-size:100%;flex-direction:row;flex-wrap:nowrap;border-radius:0.25rem;color:var(--calcite-ui-text-1)}.container.has-header{flex-direction:column}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:0.25rem;border-end-end-radius:0.25rem}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%}:host([hidden]){display:none}[hidden]{display:none}",ut=new ci,ui=pt(class extends mt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calcitePopoverBeforeClose=re(this,"calcitePopoverBeforeClose",6),this.calcitePopoverClose=re(this,"calcitePopoverClose",6),this.calcitePopoverBeforeOpen=re(this,"calcitePopoverBeforeOpen",6),this.calcitePopoverOpen=re(this,"calcitePopoverOpen",6),this.mutationObserver=tn("mutation",()=>this.updateFocusTrapElements()),this.guid=`calcite-popover-${gt()}`,this.openTransitionProp="opacity",this.hasLoaded=!1,this.setTransitionEl=e=>{this.transitionEl=e},this.setFilteredPlacements=()=>{const{el:e,flipPlacements:t}=this;this.filteredFlipPlacements=t?$n(t,e):null},this.setUpReferenceElement=(e=!0)=>{this.removeReferences(),this.effectiveReferenceElement=this.getReferenceElement(),Vn(this,this.effectiveReferenceElement,this.el);const{el:t,referenceElement:n,effectiveReferenceElement:i}=this;e&&n&&!i&&console.warn(`${t.tagName}: reference-element id "${n}" was not found.`,{el:t}),this.addReferences()},this.getId=()=>this.el.id||this.guid,this.setExpandedAttr=()=>{const{effectiveReferenceElement:e,open:t}=this;e&&"setAttribute"in e&&e.setAttribute(lt,Ce(t))},this.addReferences=()=>{const{effectiveReferenceElement:e}=this;if(!e)return;const t=this.getId();"setAttribute"in e&&e.setAttribute(ct,t),ut.registerElement(e,this.el),this.setExpandedAttr()},this.removeReferences=()=>{const{effectiveReferenceElement:e}=this;e&&("removeAttribute"in e&&(e.removeAttribute(ct),e.removeAttribute(lt)),ut.unregisterElement(e))},this.hide=()=>{this.open=!1},this.storeArrowEl=e=>{this.arrowEl=e,this.reposition(!0)},this.autoClose=!1,this.closable=!1,this.flipDisabled=!1,this.focusTrapDisabled=!1,this.pointerDisabled=!1,this.flipPlacements=void 0,this.heading=void 0,this.headingLevel=void 0,this.label=void 0,this.messageOverrides=void 0,this.messages=void 0,this.offsetDistance=jn,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=ai,this.referenceElement=void 0,this.scale="m",this.triggerDisabled=!1,this.effectiveLocale="",this.floatingLayout="vertical",this.effectiveReferenceElement=void 0,this.defaultMessages=void 0}handleFocusTrapDisabled(e){this.open&&(e?ke(this):ot(this))}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}onMessagesChange(){}offsetDistanceOffsetHandler(){this.reposition(!0)}offsetSkiddingHandler(){this.reposition(!0)}openHandler(e){rt(this),e&&this.reposition(!0),this.setExpandedAttr()}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}referenceElementHandler(){this.setUpReferenceElement(),this.reposition(!0)}effectiveLocaleChange(){Xt(this,this.effectiveLocale)}connectedCallback(){this.setFilteredPlacements(),Gt(this),qt(this),this.setUpReferenceElement(this.hasLoaded),ni(this),this.open&&rt(this)}async componentWillLoad(){await Qt(this),yt(this)}componentDidLoad(){wt(this),this.referenceElement&&!this.effectiveReferenceElement&&this.setUpReferenceElement(),this.reposition(),this.hasLoaded=!0}disconnectedCallback(){this.removeReferences(),Zt(this),Jt(this),Mt(this,this.effectiveReferenceElement,this.el),ke(this)}async reposition(e=!1){const{el:t,effectiveReferenceElement:n,placement:i,overlayPositioning:o,flipDisabled:r,filteredFlipPlacements:s,offsetDistance:c,offsetSkidding:u,arrowEl:f}=this;return Kn(this,{floatingEl:t,referenceEl:n,overlayPositioning:o,placement:i,flipDisabled:r,flipPlacements:s,offsetDistance:c,offsetSkidding:u,arrowEl:f,type:"popover"},e)}async setFocus(){await xt(this),Wt(this.el),Vt(this.el)}async updateFocusTrapElements(){ii(this)}getReferenceElement(){const{referenceElement:e,el:t}=this;return(typeof e=="string"?jt(t,{id:e}):e)||null}onBeforeOpen(){this.calcitePopoverBeforeOpen.emit()}onOpen(){this.calcitePopoverOpen.emit(),ot(this)}onBeforeClose(){this.calcitePopoverBeforeClose.emit()}onClose(){this.calcitePopoverClose.emit(),ke(this)}renderCloseButton(){const{messages:e,closable:t}=this;return t?D("div",{class:K.closeButtonContainer,key:K.closeButtonContainer},D("calcite-action",{appearance:"transparent",class:K.closeButton,onClick:this.hide,scale:this.scale,text:e.close,ref:n=>this.closeButtonEl=n},D("calcite-icon",{icon:"x",scale:this.scale==="l"?"m":this.scale}))):null}renderHeader(){const{heading:e,headingLevel:t}=this,n=e?D(oi,{class:K.heading,level:t},e):null;return n?D("div",{class:K.header,key:K.header},n,this.renderCloseButton()):null}render(){const{effectiveReferenceElement:e,heading:t,label:n,open:i,pointerDisabled:o,floatingLayout:r}=this,s=e&&i,c=!s,u=o?null:D(ri,{floatingLayout:r,key:"floating-arrow",ref:this.storeArrowEl});return D(_t,{"aria-hidden":Ce(c),"aria-label":n,"aria-live":"polite","calcite-hydrated-hidden":c,id:this.getId(),role:"dialog"},D("div",{class:{[Qe.animation]:!0,[Qe.animationActive]:s},ref:this.setTransitionEl},u,D("div",{class:{[K.hasHeader]:!!t,[K.container]:!0}},this.renderHeader(),D("div",{class:K.content},D("slot",null)),t?null:this.renderCloseButton())))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{focusTrapDisabled:["handleFocusTrapDisabled"],flipPlacements:["flipPlacementsHandler"],messageOverrides:["onMessagesChange"],offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return li}},[1,"calcite-popover",{autoClose:[516,"auto-close"],closable:[516],flipDisabled:[516,"flip-disabled"],focusTrapDisabled:[516,"focus-trap-disabled"],pointerDisabled:[516,"pointer-disabled"],flipPlacements:[16],heading:[1],headingLevel:[514,"heading-level"],label:[1],messageOverrides:[1040],messages:[1040],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],scale:[513],triggerDisabled:[516,"trigger-disabled"],effectiveLocale:[32],floatingLayout:[32],effectiveReferenceElement:[32],defaultMessages:[32],reposition:[64],setFocus:[64],updateFocusTrapElements:[64]}]);function It(){if(typeof customElements>"u")return;["calcite-popover","calcite-action","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-popover":customElements.get(t)||customElements.define(t,ui);break;case"calcite-action":customElements.get(t)||Et();break;case"calcite-icon":customElements.get(t)||Pt();break;case"calcite-loader":customElements.get(t)||vt();break}})}It();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 */const ft={menu:"menu",defaultTrigger:"default-trigger"},dt={tooltip:"tooltip",trigger:"trigger"},fi={menu:"ellipsis"},di=`:host{box-sizing:border-box;display:flex;flex-direction:column;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size-1);color:var(--calcite-ui-text-2)}.menu ::slotted(calcite-action){margin:0.125rem;display:flex;outline-color:transparent}.menu ::slotted(calcite-action[active]){outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(
            2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-ui-focus-offset-invert),
                1
              )
            )
          );outline-offset:0px}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{flex-direction:column;flex-wrap:nowrap;outline:2px solid transparent;outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`,hi=["ArrowUp","ArrowDown","End","Home"],pi=pt(class extends mt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteActionMenuOpen=re(this,"calciteActionMenuOpen",6),this.actionElements=[],this.guid=`calcite-action-menu-${gt()}`,this.menuId=`${this.guid}-menu`,this.menuButtonId=`${this.guid}-menu-button`,this.connectMenuButtonEl=()=>{const{menuButtonId:e,menuId:t,open:n,label:i}=this,o=this.slottedMenuButtonEl||this.defaultMenuButtonEl;this.menuButtonEl!==o&&(this.disconnectMenuButtonEl(),this.menuButtonEl=o,this.setTooltipReferenceElement(),o&&(o.active=n,o.setAttribute("aria-controls",t),o.setAttribute("aria-expanded",Ce(n)),o.setAttribute("aria-haspopup","true"),o.id||(o.id=e),o.label||(o.label=i),o.text||(o.text=i),o.addEventListener("pointerdown",this.menuButtonClick),o.addEventListener("keydown",this.menuButtonKeyDown)))},this.disconnectMenuButtonEl=()=>{const{menuButtonEl:e}=this;e&&(e.removeEventListener("pointerdown",this.menuButtonClick),e.removeEventListener("keydown",this.menuButtonKeyDown))},this.setMenuButtonEl=e=>{const t=e.target.assignedElements({flatten:!0}).filter(n=>n==null?void 0:n.matches("calcite-action"));this.slottedMenuButtonEl=t[0],this.connectMenuButtonEl()},this.setDefaultMenuButtonEl=e=>{this.defaultMenuButtonEl=e,this.connectMenuButtonEl()},this.handleCalciteActionClick=()=>{this.open=!1,this.setFocus()},this.menuButtonClick=e=>{De(e)&&this.toggleOpen()},this.updateTooltip=e=>{const t=e.target.assignedElements({flatten:!0}).filter(n=>n==null?void 0:n.matches("calcite-tooltip"));this.tooltipEl=t[0],this.setTooltipReferenceElement()},this.setTooltipReferenceElement=()=>{const{tooltipEl:e,expanded:t,menuButtonEl:n,open:i}=this;e&&(e.referenceElement=!t&&!i?n:null)},this.updateAction=(e,t)=>{const{guid:n,activeMenuItemIndex:i}=this,o=`${n}-action-${t}`;e.tabIndex=-1,e.setAttribute("role","menuitem"),e.id||(e.id=o),e.active=t===i},this.updateActions=e=>{e==null||e.forEach(this.updateAction)},this.handleDefaultSlotChange=e=>{const t=e.target.assignedElements({flatten:!0}).filter(n=>n==null?void 0:n.matches("calcite-action"));this.actionElements=t},this.menuButtonKeyDown=e=>{const{key:t}=e,{actionElements:n,activeMenuItemIndex:i,open:o}=this;if(n.length){if(bt(t)){if(e.preventDefault(),!o){this.toggleOpen();return}const r=n[i];r?r.click():this.toggleOpen(!1)}if(t==="Tab"){this.open=!1;return}if(t==="Escape"){this.toggleOpen(!1),e.preventDefault();return}this.handleActionNavigation(e,t,n)}},this.handleActionNavigation=(e,t,n)=>{if(!this.isValidKey(t,hi))return;if(e.preventDefault(),!this.open){this.toggleOpen(),(t==="Home"||t==="ArrowDown")&&(this.activeMenuItemIndex=0),(t==="End"||t==="ArrowUp")&&(this.activeMenuItemIndex=n.length-1);return}t==="Home"&&(this.activeMenuItemIndex=0),t==="End"&&(this.activeMenuItemIndex=n.length-1);const i=this.activeMenuItemIndex;t==="ArrowUp"&&(this.activeMenuItemIndex=$e(Math.max(i-1,-1),n.length)),t==="ArrowDown"&&(this.activeMenuItemIndex=$e(i+1,n.length))},this.toggleOpenEnd=()=>{this.setFocus(),this.el.removeEventListener("calcitePopoverOpen",this.toggleOpenEnd)},this.toggleOpen=(e=!this.open)=>{this.el.addEventListener("calcitePopoverOpen",this.toggleOpenEnd),this.open=e},this.expanded=!1,this.flipPlacements=void 0,this.label=void 0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.scale=void 0,this.menuButtonEl=void 0,this.activeMenuItemIndex=-1}componentWillLoad(){yt(this)}componentDidLoad(){wt(this)}disconnectedCallback(){this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(e){this.activeMenuItemIndex=this.open?0:-1,this.menuButtonEl&&(this.menuButtonEl.active=e),this.calciteActionMenuOpen.emit(),this.setTooltipReferenceElement()}closeCalciteActionMenuOnClick(e){!De(e)||e.composedPath().includes(this.el)||(this.open=!1)}activeMenuItemIndexHandler(){this.updateActions(this.actionElements)}async setFocus(){return await xt(this),ht(this.menuButtonEl)}renderMenuButton(){const{label:e,scale:t,expanded:n}=this;return D("slot",{name:dt.trigger,onSlotchange:this.setMenuButtonEl},D("calcite-action",{class:ft.defaultTrigger,icon:fi.menu,scale:t,text:e,textEnabled:n,ref:this.setDefaultMenuButtonEl}))}renderMenuItems(){const{actionElements:e,activeMenuItemIndex:t,open:n,menuId:i,menuButtonEl:o,label:r,placement:s,overlayPositioning:c,flipPlacements:u}=this,f=e[t],m=(f==null?void 0:f.id)||null;return D("calcite-popover",{flipPlacements:u,focusTrapDisabled:!0,label:r,offsetDistance:0,open:n,overlayPositioning:c,placement:s,pointerDisabled:!0,referenceElement:o},D("div",{"aria-activedescendant":m,"aria-labelledby":o==null?void 0:o.id,class:ft.menu,id:i,onClick:this.handleCalciteActionClick,role:"menu",tabIndex:-1},D("slot",{onSlotchange:this.handleDefaultSlotChange})))}render(){return D(Yt,null,this.renderMenuButton(),this.renderMenuItems(),D("slot",{name:dt.tooltip,onSlotchange:this.updateTooltip}))}isValidKey(e,t){return!!t.find(n=>n===e)}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}}static get style(){return di}},[1,"calcite-action-menu",{expanded:[516],flipPlacements:[16],label:[1],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],scale:[513],menuButtonEl:[32],activeMenuItemIndex:[32],setFocus:[64]},[[9,"pointerdown","closeCalciteActionMenuOnClick"]]]);function mi(){if(typeof customElements>"u")return;["calcite-action-menu","calcite-action","calcite-icon","calcite-loader","calcite-popover"].forEach(t=>{switch(t){case"calcite-action-menu":customElements.get(t)||customElements.define(t,pi);break;case"calcite-action":customElements.get(t)||Et();break;case"calcite-icon":customElements.get(t)||Pt();break;case"calcite-loader":customElements.get(t)||vt();break;case"calcite-popover":customElements.get(t)||It();break}})}mi();export{oi as H,dt as S,mi as a,It as d};
