/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 *//*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var x=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],S=x.join(","),F=typeof Element>"u",d=F?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,T=!F&&Element.prototype.getRootNode?function(r){var t;return r==null||(t=r.getRootNode)===null||t===void 0?void 0:t.call(r)}:function(r){return r==null?void 0:r.ownerDocument},w=function r(t,e){var n;e===void 0&&(e=!0);var a=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"inert"),i=a===""||a==="true",u=i||e&&t&&r(t.parentNode);return u},G=function(t){var e,n=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return n===""||n==="true"},O=function(t,e,n){if(w(t))return[];var a=Array.prototype.slice.apply(t.querySelectorAll(S));return e&&d.call(t,S)&&a.unshift(t),a=a.filter(n),a},D=function r(t,e,n){for(var a=[],i=Array.from(t);i.length;){var u=i.shift();if(!w(u,!1))if(u.tagName==="SLOT"){var s=u.assignedElements(),l=s.length?s:u.children,o=r(l,!0,n);n.flatten?a.push.apply(a,o):a.push({scopeParent:u,candidates:o})}else{var f=d.call(u,S);f&&n.filter(u)&&(e||!t.includes(u))&&a.push(u);var c=u.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(u),y=!w(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(u));if(c&&y){var v=r(c===!0?u.children:c.children,!0,n);n.flatten?a.push.apply(a,v):a.push({scopeParent:u,candidates:v})}else i.unshift.apply(i,u.children)}}return a},q=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},L=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||G(t))&&!q(t)?0:t.tabIndex},$=function(t,e){var n=L(t);return n<0&&e&&!q(t)?0:n},W=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},B=function(t){return t.tagName==="INPUT"},X=function(t){return B(t)&&t.type==="hidden"},Z=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return e},z=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]},H=function(t){if(!t.name)return!0;var e=t.form||T(t),n=function(s){return e.querySelectorAll('input[type="radio"][name="'+s+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(t.name));else try{a=n(t.name)}catch(u){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",u.message),!1}var i=z(a,t.form);return!i||i===t},K=function(t){return B(t)&&t.type==="radio"},Y=function(t){return K(t)&&!H(t)},J=function(t){var e,n=t&&T(t),a=(e=n)===null||e===void 0?void 0:e.host,i=!1;if(n&&n!==t){var u,s,l;for(i=!!((u=a)!==null&&u!==void 0&&(s=u.ownerDocument)!==null&&s!==void 0&&s.contains(a)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!i&&a;){var o,f,c;n=T(a),a=(o=n)===null||o===void 0?void 0:o.host,i=!!((f=a)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(a))}}return i},N=function(t){var e=t.getBoundingClientRect(),n=e.width,a=e.height;return n===0&&a===0},Q=function(t,e){var n=e.displayCheck,a=e.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=d.call(t,"details>summary:first-of-type"),u=i?t.parentElement:t;if(d.call(u,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof a=="function"){for(var s=t;t;){var l=t.parentElement,o=T(t);if(l&&!l.shadowRoot&&a(l)===!0)return N(t);t.assignedSlot?t=t.assignedSlot:!l&&o!==t.ownerDocument?t=o.host:t=l}t=s}if(J(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return N(t);return!1},V=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var n=0;n<e.children.length;n++){var a=e.children.item(n);if(a.tagName==="LEGEND")return d.call(e,"fieldset[disabled] *")?!0:!a.contains(t)}return!0}e=e.parentElement}return!1},A=function(t,e){return!(e.disabled||w(e)||X(e)||Q(e,t)||Z(e)||V(e))},E=function(t,e){return!(Y(e)||L(e)<0||!A(t,e))},_=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},tt=function r(t){var e=[],n=[];return t.forEach(function(a,i){var u=!!a.scopeParent,s=u?a.scopeParent:a,l=$(s,u),o=u?r(a.candidates):s;l===0?u?e.push.apply(e,o):e.push(s):n.push({documentOrder:i,tabIndex:l,item:a,isScope:u,content:o})}),n.sort(W).reduce(function(a,i){return i.isScope?a.push.apply(a,i.content):a.push(i.content),a},[]).concat(e)},et=function(t,e){e=e||{};var n;return e.getShadowRoot?n=D([t],e.includeContainer,{filter:E.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:_}):n=O(t,e.includeContainer,E.bind(null,e)),tt(n)},St=function(t,e){e=e||{};var n;return e.getShadowRoot?n=D([t],e.includeContainer,{filter:A.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):n=O(t,e.includeContainer,A.bind(null,e)),n},Tt=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return d.call(t,S)===!1?!1:E(e,t)},rt=x.concat("iframe").join(","),wt=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return d.call(t,rt)===!1?!1:A(e,t)};const nt={getShadowRoot:!0};function At(r){const t="dir",e=`[${t}]`,n=at(r,e);return n?n.getAttribute(t):"ltr"}function k(r){return r.getRootNode()}function P(r){return r.host||null}function Ct(r,{selector:t,id:e}){function n(a){if(!a)return null;a.assignedSlot&&(a=a.assignedSlot);const i=k(a),u=e?"getElementById"in i?i.getElementById(e):null:t?i.querySelector(t):null,s=P(i);return u||(s?n(s):null)}return n(r)}function at(r,t){function e(n){return n?n.closest(t)||e(P(k(n))):null}return e(r)}function it(r,t){return M(r,t)}function M(r,t){if(!r)return;const e=t(r);if(e!==void 0)return e;const{parentNode:n}=r;return M(n instanceof ShadowRoot?n.host:n,t)}function pt(r,t){return!!it(t,e=>e===r?!0:void 0)}function ut(r){return typeof(r==null?void 0:r.setFocus)=="function"}async function It(r){if(r)return ut(r)?r.setFocus():r.focus()}function st(r){if(r)return et(r,nt)[0]??r}function Et(r){var t;(t=st(r))==null||t.focus()}const g=":not([slot])";function Nt(r,t,e){t&&!Array.isArray(t)&&typeof t!="string"&&(e=t,t=null);const n=t?Array.isArray(t)?t.map(a=>`[slot="${a}"]`).join(","):`[slot="${t}"]`:g;return e!=null&&e.all?lt(r,n,e):ot(r,n,e)}function j(r,t){return r?Array.from(r.children||[]).filter(e=>e==null?void 0:e.matches(t)):[]}function lt(r,t,e){let n=t===g?j(r,g):Array.from(r.querySelectorAll(t));n=e&&e.direct===!1?n:n.filter(i=>i.parentElement===r),n=e!=null&&e.matches?n.filter(i=>i==null?void 0:i.matches(e.matches)):n;const a=e==null?void 0:e.selector;return a?n.map(i=>Array.from(i.querySelectorAll(a))).reduce((i,u)=>[...i,...u],[]).filter(i=>!!i):n}function ot(r,t,e){let n=t===g?j(r,g)[0]||null:r.querySelector(t);n=e&&e.direct===!1||(n==null?void 0:n.parentElement)===r?n:null,n=e!=null&&e.matches?n!=null&&n.matches(e.matches)?n:null:n;const a=e==null?void 0:e.selector;return a?n==null?void 0:n.querySelector(a):n}function ct(r,t){return r.filter(e=>e.matches(t))}function Rt(r,t,e){if(typeof t=="string"&&t!=="")return t;if(t==="")return r[e]}function xt(r){return(!!r).toString()}function Ft(r){return bt(r)||dt(r)}function ft(r){return vt(r).filter(t=>t.nodeType===Node.TEXT_NODE).map(t=>t.textContent).join("").trim()}function dt(r){return!!ft(r)}function vt(r){return r.currentTarget.assignedNodes({flatten:!0})}function bt(r){return!!ht(r).length}function ht(r,t){return gt(r.target,t)}function gt(r,t){const e=r.assignedElements({flatten:!0});return t?ct(e,t):e}function Ot(r){return!!(r.isPrimary&&r.button===0)}function Dt(r){return r.detail===0}function qt(r,t){if(r.parentNode!==t.parentNode)return!1;const e=Array.from(r.parentNode.children);return e.indexOf(r)<e.indexOf(t)}async function Lt(r,t,e,n){return yt(r,t,"transition",e,n)}async function yt(r,t,e,n,a){const i=window.getComputedStyle(r),u=e==="transition"?i.transitionDuration:i.animationDuration,s=e==="transition"?i.transitionProperty:i.animationName,l=u.split(","),f=s.split(",").map(m=>m.trim()).indexOf(t),c=l[f]??l[0];function y(){requestAnimationFrame(()=>{n==null||n(),requestAnimationFrame(()=>a==null?void 0:a())})}if(c==="0s"){y();return}const v=e==="transition"?"transitionstart":"animationstart",C=e==="transition"?"transitionend":"animationend",p=e==="transition"?"transitioncancel":"animationcancel";return new Promise(m=>{const U=window.setTimeout(()=>{r.removeEventListener(v,I),r.removeEventListener(C,b),r.removeEventListener(p,b),y(),m()},parseFloat(c)*1e3);r.addEventListener(v,I),r.addEventListener(C,b),r.addEventListener(p,b);function I(h){h.target===r&&R(h)===t&&(window.clearTimeout(U),r.removeEventListener(v,I),n==null||n())}function b(h){h.target===r&&R(h)===t&&(r.removeEventListener(C,b),r.removeEventListener(p,b),a==null||a(),m())}})}function mt(r){return"propertyName"in r}function R(r){return mt(r)?r.propertyName:r.animationName}export{ht as a,Ft as b,at as c,st as d,pt as e,Et as f,At as g,Rt as h,qt as i,Nt as j,Ot as k,It as l,nt as m,wt as n,et as o,St as p,Ct as q,Tt as r,bt as s,xt as t,L as u,Dt as v,Lt as w};
