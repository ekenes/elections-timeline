import{eZ as $e,k as pt,k6 as Ut,b as F,p as mt,H as gt,e as ce,be as Kt,j as Wt,k7 as _t}from"./index-09dc31eb.js";import{g as jt,l as vt,m as Vt,n as Ce,o as qt,p as Yt,r as J,u as re,t as Re,f as Gt,q as Xt,v as Zt}from"./dom-5f4aa2eb.js";import{d as bt,g as wt}from"./loader-aca63ce6.js";import{c as Qt,d as Jt,e as yt}from"./locale-027a7ad7.js";import{s as xt,a as Et,c as Pt}from"./loadable-d8ccf2e8.js";import{d as kt}from"./action-279bc7c4.js";import{d as Tt}from"./icon-71402c4e.js";import{d as en}from"./debounce-d383d741.js";import{o as ze}from"./openCloseComponent-a1537924.js";import{u as tn,c as nn,s as on,d as sn}from"./t9n-0442cbce.js";import{c as rn}from"./observers-29f2e3f5.js";import{g as an}from"./component-78102c55.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */function Ue(t,e){return(t+e)%e}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const Ot=["top","right","bottom","left"],Ke=["start","end"],We=Ot.reduce((t,e)=>t.concat(e,e+"-"+Ke[0],e+"-"+Ke[1]),[]),te=Math.min,X=Math.max,ge=Math.round,pe=Math.floor,q=t=>({x:t,y:t}),cn={left:"right",right:"left",bottom:"top",top:"bottom"},ln={start:"end",end:"start"};function Le(t,e,n){return X(t,te(e,n))}function Q(t,e){return typeof t=="function"?t(e):t}function _(t){return t.split("-")[0]}function U(t){return t.split("-")[1]}function Ct(t){return t==="x"?"y":"x"}function Se(t){return t==="y"?"height":"width"}function xe(t){return["top","bottom"].includes(_(t))?"y":"x"}function Me(t){return Ct(xe(t))}function At(t,e,n){n===void 0&&(n=!1);const i=U(t),o=Me(t),r=Se(o);let s=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(s=be(s)),[s,be(s)]}function fn(t){const e=be(t);return[ve(t),e,ve(e)]}function ve(t){return t.replace(/start|end/g,e=>ln[e])}function un(t,e,n){const i=["left","right"],o=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:i:e?i:o;case"left":case"right":return e?r:s;default:return[]}}function dn(t,e,n,i){const o=U(t);let r=un(_(t),n==="start",i);return o&&(r=r.map(s=>s+"-"+o),e&&(r=r.concat(r.map(ve)))),r}function be(t){return t.replace(/left|right|bottom|top/g,e=>cn[e])}function hn(t){return{top:0,right:0,bottom:0,left:0,...t}}function Dt(t){return typeof t!="number"?hn(t):{top:t,right:t,bottom:t,left:t}}function we(t){const{x:e,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function _e(t,e,n){let{reference:i,floating:o}=t;const r=xe(e),s=Me(e),c=Se(s),f=_(e),u=r==="y",p=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,v=i[c]/2-o[c]/2;let m;switch(f){case"top":m={x:p,y:i.y-o.height};break;case"bottom":m={x:p,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:h};break;case"left":m={x:i.x-o.width,y:h};break;default:m={x:i.x,y:i.y}}switch(U(e)){case"start":m[s]-=v*(n&&u?-1:1);break;case"end":m[s]+=v*(n&&u?-1:1);break}return m}const pn=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:r=[],platform:s}=n,c=r.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:p,y:h}=_e(u,i,f),v=i,m={},g=0;for(let w=0;w<c.length;w++){const{name:y,fn:b}=c[w],{x,y:O,data:A,reset:C}=await b({x:p,y:h,initialPlacement:i,placement:v,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:t,floating:e}});p=x??p,h=O??h,m={...m,[y]:{...m[y],...A}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(v=C.placement),C.rects&&(u=C.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:o}):C.rects),{x:p,y:h}=_e(u,v,f)),w=-1)}return{x:p,y:h,placement:v,strategy:o,middlewareData:m}};async function fe(t,e){var n;e===void 0&&(e={});const{x:i,y:o,platform:r,rects:s,elements:c,strategy:f}=t,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:v=!1,padding:m=0}=Q(e,t),g=Dt(m),y=c[v?h==="floating"?"reference":"floating":h],b=we(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(y)))==null||n?y:y.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:u,rootBoundary:p,strategy:f})),x=h==="floating"?{x:i,y:o,width:s.floating.width,height:s.floating.height}:s.reference,O=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),A=await(r.isElement==null?void 0:r.isElement(O))?await(r.getScale==null?void 0:r.getScale(O))||{x:1,y:1}:{x:1,y:1},C=we(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:O,strategy:f}):x);return{top:(b.top-C.top+g.top)/A.y,bottom:(C.bottom-b.bottom+g.bottom)/A.y,left:(b.left-C.left+g.left)/A.x,right:(C.right-b.right+g.right)/A.x}}const mn=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:o,rects:r,platform:s,elements:c,middlewareData:f}=e,{element:u,padding:p=0}=Q(t,e)||{};if(u==null)return{};const h=Dt(p),v={x:n,y:i},m=Me(o),g=Se(m),w=await s.getDimensions(u),y=m==="y",b=y?"top":"left",x=y?"bottom":"right",O=y?"clientHeight":"clientWidth",A=r.reference[g]+r.reference[m]-v[m]-r.floating[g],C=v[m]-r.reference[m],B=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let R=B?B[O]:0;(!R||!await(s.isElement==null?void 0:s.isElement(B)))&&(R=c.floating[O]||r.floating[g]);const I=A/2-C/2,N=R/2-w[g]/2-1,D=te(h[b],N),k=te(h[x],N),a=D,l=R-w[g]-k,d=R/2-w[g]/2+I,E=Le(a,d,l),P=!f.arrow&&U(o)!=null&&d!==E&&r.reference[g]/2-(d<a?D:k)-w[g]/2<0,T=P?d<a?d-a:d-l:0;return{[m]:v[m]+T,data:{[m]:E,centerOffset:d-E-T,...P&&{alignmentOffset:T}},reset:P}}});function gn(t,e,n){return(t?[...n.filter(o=>U(o)===t),...n.filter(o=>U(o)!==t)]:n.filter(o=>_(o)===o)).filter(o=>t?U(o)===t||(e?ve(o)!==o:!1):!0)}const vn=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,i,o;const{rects:r,middlewareData:s,placement:c,platform:f,elements:u}=e,{crossAxis:p=!1,alignment:h,allowedPlacements:v=We,autoAlignment:m=!0,...g}=Q(t,e),w=h!==void 0||v===We?gn(h||null,m,v):v,y=await fe(e,g),b=((n=s.autoPlacement)==null?void 0:n.index)||0,x=w[b];if(x==null)return{};const O=At(x,r,await(f.isRTL==null?void 0:f.isRTL(u.floating)));if(c!==x)return{reset:{placement:w[0]}};const A=[y[_(x)],y[O[0]],y[O[1]]],C=[...((i=s.autoPlacement)==null?void 0:i.overflows)||[],{placement:x,overflows:A}],B=w[b+1];if(B)return{data:{index:b+1,overflows:C},reset:{placement:B}};const R=C.map(D=>{const k=U(D.placement);return[D.placement,k&&p?D.overflows.slice(0,2).reduce((a,l)=>a+l,0):D.overflows[0],D.overflows]}).sort((D,k)=>D[1]-k[1]),N=((o=R.filter(D=>D[2].slice(0,U(D[0])?2:3).every(k=>k<=0))[0])==null?void 0:o[0])||R[0][0];return N!==c?{data:{index:b+1,overflows:C},reset:{placement:N}}:{}}}},bn=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:o,middlewareData:r,rects:s,initialPlacement:c,platform:f,elements:u}=e,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:v,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:w=!0,...y}=Q(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const b=_(o),x=_(c)===c,O=await(f.isRTL==null?void 0:f.isRTL(u.floating)),A=v||(x||!w?[be(c)]:fn(c));!v&&g!=="none"&&A.push(...dn(c,w,g,O));const C=[c,...A],B=await fe(e,y),R=[];let I=((i=r.flip)==null?void 0:i.overflows)||[];if(p&&R.push(B[b]),h){const a=At(o,s,O);R.push(B[a[0]],B[a[1]])}if(I=[...I,{placement:o,overflows:R}],!R.every(a=>a<=0)){var N,D;const a=(((N=r.flip)==null?void 0:N.index)||0)+1,l=C[a];if(l)return{data:{index:a,overflows:I},reset:{placement:l}};let d=(D=I.filter(E=>E.overflows[0]<=0).sort((E,P)=>E.overflows[1]-P.overflows[1])[0])==null?void 0:D.placement;if(!d)switch(m){case"bestFit":{var k;const E=(k=I.map(P=>[P.placement,P.overflows.filter(T=>T>0).reduce((T,L)=>T+L,0)]).sort((P,T)=>P[1]-T[1])[0])==null?void 0:k[0];E&&(d=E);break}case"initialPlacement":d=c;break}if(o!==d)return{reset:{placement:d}}}return{}}}};function je(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ve(t){return Ot.some(e=>t[e]>=0)}const wn=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...o}=Q(t,e);switch(i){case"referenceHidden":{const r=await fe(e,{...o,elementContext:"reference"}),s=je(r,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Ve(s)}}}case"escaped":{const r=await fe(e,{...o,altBoundary:!0}),s=je(r,n.floating);return{data:{escapedOffsets:s,escaped:Ve(s)}}}default:return{}}}}};async function yn(t,e){const{placement:n,platform:i,elements:o}=t,r=await(i.isRTL==null?void 0:i.isRTL(o.floating)),s=_(n),c=U(n),f=xe(n)==="y",u=["left","top"].includes(s)?-1:1,p=r&&f?-1:1,h=Q(e,t);let{mainAxis:v,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return c&&typeof g=="number"&&(m=c==="end"?g*-1:g),f?{x:m*p,y:v*u}:{x:v*u,y:m*p}}const xn=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:o,y:r,placement:s,middlewareData:c}=e,f=await yn(e,t);return s===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:r+f.y,data:{...f,placement:s}}}}},En=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:r=!0,crossAxis:s=!1,limiter:c={fn:y=>{let{x:b,y:x}=y;return{x:b,y:x}}},...f}=Q(t,e),u={x:n,y:i},p=await fe(e,f),h=xe(_(o)),v=Ct(h);let m=u[v],g=u[h];if(r){const y=v==="y"?"top":"left",b=v==="y"?"bottom":"right",x=m+p[y],O=m-p[b];m=Le(x,m,O)}if(s){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=g+p[y],O=g-p[b];g=Le(x,g,O)}const w=c.fn({...e,[v]:m,[h]:g});return{...w,data:{x:w.x-n,y:w.y-i}}}}};function ie(t){return Ft(t)?(t.nodeName||"").toLowerCase():"#document"}function H(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function j(t){var e;return(e=(Ft(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ft(t){return t instanceof Node||t instanceof H(t).Node}function $(t){return t instanceof Element||t instanceof H(t).Element}function K(t){return t instanceof HTMLElement||t instanceof H(t).HTMLElement}function qe(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof H(t).ShadowRoot}function he(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=z(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}function Pn(t){return["table","td","th"].includes(ie(t))}function Ee(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Pe(t){const e=Ne(),n=$(t)?z(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function kn(t){let e=Y(t);for(;K(e)&&!ne(e);){if(Pe(e))return e;if(Ee(e))return null;e=Y(e)}return null}function Ne(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ne(t){return["html","body","#document"].includes(ie(t))}function z(t){return H(t).getComputedStyle(t)}function ke(t){return $(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Y(t){if(ie(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qe(t)&&t.host||j(t);return qe(e)?e.host:e}function Rt(t){const e=Y(t);return ne(e)?t.ownerDocument?t.ownerDocument.body:t.body:K(e)&&he(e)?e:Rt(e)}function ue(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=Rt(t),r=o===((i=t.ownerDocument)==null?void 0:i.body),s=H(o);if(r){const c=Tn(s);return e.concat(s,s.visualViewport||[],he(o)?o:[],c&&n?ue(c):[])}return e.concat(o,ue(o,[],n))}function Tn(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Lt(t){const e=z(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=K(t),r=o?t.offsetWidth:n,s=o?t.offsetHeight:i,c=ge(n)!==r||ge(i)!==s;return c&&(n=r,i=s),{width:n,height:i,$:c}}function Ie(t){return $(t)?t:t.contextElement}function ee(t){const e=Ie(t);if(!K(e))return q(1);const n=e.getBoundingClientRect(),{width:i,height:o,$:r}=Lt(e);let s=(r?ge(n.width):n.width)/i,c=(r?ge(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const On=q(0);function Bt(t){const e=H(t);return!Ne()||!e.visualViewport?On:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Cn(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==H(t)?!1:e}function Z(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),r=Ie(t);let s=q(1);e&&(i?$(i)&&(s=ee(i)):s=ee(t));const c=Cn(r,n,i)?Bt(r):q(0);let f=(o.left+c.x)/s.x,u=(o.top+c.y)/s.y,p=o.width/s.x,h=o.height/s.y;if(r){const v=H(r),m=i&&$(i)?H(i):i;let g=v,w=g.frameElement;for(;w&&i&&m!==g;){const y=ee(w),b=w.getBoundingClientRect(),x=z(w),O=b.left+(w.clientLeft+parseFloat(x.paddingLeft))*y.x,A=b.top+(w.clientTop+parseFloat(x.paddingTop))*y.y;f*=y.x,u*=y.y,p*=y.x,h*=y.y,f+=O,u+=A,g=H(w),w=g.frameElement}}return we({width:p,height:h,x:f,y:u})}function An(t){let{elements:e,rect:n,offsetParent:i,strategy:o}=t;const r=o==="fixed",s=j(i),c=e?Ee(e.floating):!1;if(i===s||c&&r)return n;let f={scrollLeft:0,scrollTop:0},u=q(1);const p=q(0),h=K(i);if((h||!h&&!r)&&((ie(i)!=="body"||he(s))&&(f=ke(i)),K(i))){const v=Z(i);u=ee(i),p.x=v.x+i.clientLeft,p.y=v.y+i.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-f.scrollLeft*u.x+p.x,y:n.y*u.y-f.scrollTop*u.y+p.y}}function Dn(t){return Array.from(t.getClientRects())}function St(t){return Z(j(t)).left+ke(t).scrollLeft}function Fn(t){const e=j(t),n=ke(t),i=t.ownerDocument.body,o=X(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),r=X(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+St(t);const c=-n.scrollTop;return z(i).direction==="rtl"&&(s+=X(e.clientWidth,i.clientWidth)-o),{width:o,height:r,x:s,y:c}}function Rn(t,e){const n=H(t),i=j(t),o=n.visualViewport;let r=i.clientWidth,s=i.clientHeight,c=0,f=0;if(o){r=o.width,s=o.height;const u=Ne();(!u||u&&e==="fixed")&&(c=o.offsetLeft,f=o.offsetTop)}return{width:r,height:s,x:c,y:f}}function Ln(t,e){const n=Z(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,r=K(t)?ee(t):q(1),s=t.clientWidth*r.x,c=t.clientHeight*r.y,f=o*r.x,u=i*r.y;return{width:s,height:c,x:f,y:u}}function Ye(t,e,n){let i;if(e==="viewport")i=Rn(t,n);else if(e==="document")i=Fn(j(t));else if($(e))i=Ln(e,n);else{const o=Bt(t);i={...e,x:e.x-o.x,y:e.y-o.y}}return we(i)}function Mt(t,e){const n=Y(t);return n===e||!$(n)||ne(n)?!1:z(n).position==="fixed"||Mt(n,e)}function Bn(t,e){const n=e.get(t);if(n)return n;let i=ue(t,[],!1).filter(c=>$(c)&&ie(c)!=="body"),o=null;const r=z(t).position==="fixed";let s=r?Y(t):t;for(;$(s)&&!ne(s);){const c=z(s),f=Pe(s);!f&&c.position==="fixed"&&(o=null),(r?!f&&!o:!f&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||he(s)&&!f&&Mt(t,s))?i=i.filter(p=>p!==s):o=c,s=Y(s)}return e.set(t,i),i}function Sn(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const s=[...n==="clippingAncestors"?Ee(e)?[]:Bn(e,this._c):[].concat(n),i],c=s[0],f=s.reduce((u,p)=>{const h=Ye(e,p,o);return u.top=X(h.top,u.top),u.right=te(h.right,u.right),u.bottom=te(h.bottom,u.bottom),u.left=X(h.left,u.left),u},Ye(e,c,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Mn(t){const{width:e,height:n}=Lt(t);return{width:e,height:n}}function Nn(t,e,n){const i=K(e),o=j(e),r=n==="fixed",s=Z(t,!0,r,e);let c={scrollLeft:0,scrollTop:0};const f=q(0);if(i||!i&&!r)if((ie(e)!=="body"||he(o))&&(c=ke(e)),i){const h=Z(e,!0,r,e);f.x=h.x+e.clientLeft,f.y=h.y+e.clientTop}else o&&(f.x=St(o));const u=s.left+c.scrollLeft-f.x,p=s.top+c.scrollTop-f.y;return{x:u,y:p,width:s.width,height:s.height}}function Ae(t){return z(t).position==="static"}function Ge(t,e){return!K(t)||z(t).position==="fixed"?null:e?e(t):t.offsetParent}function Nt(t,e){const n=H(t);if(Ee(t))return n;if(!K(t)){let o=Y(t);for(;o&&!ne(o);){if($(o)&&!Ae(o))return o;o=Y(o)}return n}let i=Ge(t,e);for(;i&&Pn(i)&&Ae(i);)i=Ge(i,e);return i&&ne(i)&&Ae(i)&&!Pe(i)?n:i||kn(t)||n}const In=async function(t){const e=this.getOffsetParent||Nt,n=this.getDimensions,i=await n(t.floating);return{reference:Nn(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Hn(t){return z(t).direction==="rtl"}const Be={convertOffsetParentRelativeRectToViewportRelativeRect:An,getDocumentElement:j,getClippingRect:Sn,getOffsetParent:Nt,getElementRects:In,getClientRects:Dn,getDimensions:Mn,getScale:ee,isElement:$,isRTL:Hn};function $n(t,e){let n=null,i;const o=j(t);function r(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function s(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),r();const{left:u,top:p,width:h,height:v}=t.getBoundingClientRect();if(c||e(),!h||!v)return;const m=pe(p),g=pe(o.clientWidth-(u+h)),w=pe(o.clientHeight-(p+v)),y=pe(u),x={rootMargin:-m+"px "+-g+"px "+-w+"px "+-y+"px",threshold:X(0,te(1,f))||1};let O=!0;function A(C){const B=C[0].intersectionRatio;if(B!==f){if(!O)return s();B?s(!1,B):i=setTimeout(()=>{s(!1,1e-7)},1e3)}O=!1}try{n=new IntersectionObserver(A,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(A,x)}n.observe(t)}return s(!0),r}function zn(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:r=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,u=Ie(t),p=o||r?[...u?ue(u):[],...ue(e)]:[];p.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),r&&b.addEventListener("resize",n)});const h=u&&c?$n(u,n):null;let v=-1,m=null;s&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var O;(O=m)==null||O.observe(e)})),n()}),u&&!f&&m.observe(u),m.observe(e));let g,w=f?Z(t):null;f&&y();function y(){const b=Z(t);w&&(b.x!==w.x||b.y!==w.y||b.width!==w.width||b.height!==w.height)&&n(),w=b,g=requestAnimationFrame(y)}return n(),()=>{var b;p.forEach(x=>{o&&x.removeEventListener("scroll",n),r&&x.removeEventListener("resize",n)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,f&&cancelAnimationFrame(g)}}const Un=xn,Kn=vn,Wn=En,Xe=bn,_n=wn,jn=mn,Vn=(t,e,n)=>{const i=new Map,o={platform:Be,...n},r={...o.platform,_c:i};return pn(t,e,{...o,platform:r})};function qn(t){return Yn(t)}function De(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}function Yn(t){for(let e=t;e;e=De(e))if(e instanceof Element&&getComputedStyle(e).display==="none")return null;for(let e=De(t);e;e=De(e)){if(!(e instanceof Element))continue;const n=getComputedStyle(e);if(n.display!=="contents"&&(n.position!=="static"||Pe(n)||e.tagName==="BODY"))return e}return null}(function(){if(pt()){const e=Be.getOffsetParent;Be.getOffsetParent=n=>e(n,qn)}})();function Ze(t){const e=window.devicePixelRatio||1;return Math.round(t*e)/e}const It=async(t,{referenceEl:e,floatingEl:n,overlayPositioning:i="absolute",placement:o,flipDisabled:r,flipPlacements:s,offsetDistance:c,offsetSkidding:f,arrowEl:u,type:p})=>{var A;if(!e||!n)return null;const{x:h,y:v,placement:m,strategy:g,middlewareData:w}=await Vn(e,n,{strategy:i,placement:o==="auto"||o==="auto-start"||o==="auto-end"?void 0:et(n,o),middleware:Xn({placement:o,flipDisabled:r,flipPlacements:s==null?void 0:s.map(C=>et(n,C)),offsetDistance:c,offsetSkidding:f,arrowEl:u,type:p})});if(u&&w.arrow){const{x:C,y:B}=w.arrow,R=m.split("-")[0],I=C!=null?"left":"top",N=ei[R],D={left:"",top:"",bottom:"",right:""};"floatingLayout"in t&&(t.floatingLayout=R==="left"||R==="right"?"horizontal":"vertical"),Object.assign(u.style,{...D,[I]:`${I=="left"?C:B}px`,[R]:"100%",transform:N})}const b=((A=w.hide)==null?void 0:A.referenceHidden)?"hidden":null,x=b?"none":null;n.setAttribute(Gn,m);const{open:O}=t;Object.assign(n.style,{visibility:b,pointerEvents:x,position:g,transform:O?`translate(${Ze(h)}px,${Ze(v)}px)`:"",top:0,left:0})},Gn="data-placement",Qe=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end","leading","trailing","leading-start","leading-end","trailing-start","trailing-end"],Je={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function Xn({placement:t,flipDisabled:e,flipPlacements:n,offsetDistance:i,offsetSkidding:o,arrowEl:r,type:s}){const c=[Wn(),_n()];if(s==="menu")return[...c,Xe({fallbackPlacements:n||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})];if(s==="popover"||s==="tooltip"){const f=[...c,Un({mainAxis:typeof i=="number"?i:0,crossAxis:typeof o=="number"?o:0})];return t==="auto"||t==="auto-start"||t==="auto-end"?f.push(Kn({alignment:t==="auto-start"?"start":t==="auto-end"?"end":null})):e||f.push(Xe(n?{fallbackPlacements:n}:{})),r&&f.push(jn({element:r})),f}return[]}function Zn(t,e){const n=t.filter(i=>Qe.includes(i));return n.length!==t.length&&console.warn(`${e.tagName}: Invalid value found in: flipPlacements. Try any of these: ${Qe.map(i=>`"${i}"`).join(", ").trim()}`,{el:e}),n}function et(t,e){const n=["left","right"];return jt(t)==="rtl"&&n.reverse(),e.replace(/leading/gi,n[0]).replace(/trailing/gi,n[1])}async function Qn(t,e,n=!1){if(!t.open||!e.floatingEl||!e.referenceEl)return;if(!de.get(t))return Ht(t,e.referenceEl,e.floatingEl);await(n?Jn(t):It)(t,e)}function Jn(t){let e=ye.get(t);return e||(e=en(It,$e.reposition,{leading:!0,maxWait:$e.reposition}),ye.set(t,e),e)}const ei={top:"",left:"rotate(-90deg)",bottom:"rotate(180deg)",right:"rotate(90deg)"},de=new WeakMap,ye=new WeakMap;async function Ht(t,e,n){if(!n.isConnected)return;const i=pt()?zn:(s,c,f)=>(f(),()=>{});de.set(t,{state:"pending"});let o;const r=i(e,n,()=>{const s=t.reposition();o||(o=s)});return de.set(t,{state:"active",cleanUp:r}),o}async function ti(t,e,n){if(!(!n||!e)&&($t(t,e,n),Object.assign(n.style,{visibility:"hidden",pointerEvents:"none",position:t.overlayPositioning}),!!t.open))return Ht(t,e,n)}function $t(t,e,n){var o;if(!n||!e)return;const i=de.get(t);(i==null?void 0:i.state)==="active"&&i.cleanUp(),de.delete(t),(o=ye.get(t))==null||o.cancel(),ye.delete(t)}const tt=4,ni=Math.ceil(Math.hypot(tt,tt));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 *//*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nt(Object(n),!0).forEach(function(i){ii(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ii(t,e,n){return e=si(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oi(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function si(t){var e=oi(t,"string");return typeof e=="symbol"?e:String(e)}var ot={activateTrap:function(e,n){if(e.length>0){var i=e[e.length-1];i!==n&&i.pause()}var o=e.indexOf(n);o===-1||e.splice(o,1),e.push(n)},deactivateTrap:function(e,n){var i=e.indexOf(n);i!==-1&&e.splice(i,1),e.length>0&&e[e.length-1].unpause()}},ri=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ai=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},le=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},ci=function(e){return le(e)&&!e.shiftKey},li=function(e){return le(e)&&e.shiftKey},st=function(e){return setTimeout(e,0)},rt=function(e,n){var i=-1;return e.every(function(o,r){return n(o)?(i=r,!1):!0}),i},ae=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,i):e},me=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},fi=[],ui=function(e,n){var i=(n==null?void 0:n.document)||document,o=(n==null?void 0:n.trapStack)||fi,r=it({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ci,isKeyBackward:li},n),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,f=function(a,l,d){return a&&a[l]!==void 0?a[l]:r[d||l]},u=function(a,l){var d=typeof(l==null?void 0:l.composedPath)=="function"?l.composedPath():void 0;return s.containerGroups.findIndex(function(E){var P=E.container,T=E.tabbableNodes;return P.contains(a)||(d==null?void 0:d.includes(P))||T.find(function(L){return L===a})})},p=function(a){var l=r[a];if(typeof l=="function"){for(var d=arguments.length,E=new Array(d>1?d-1:0),P=1;P<d;P++)E[P-1]=arguments[P];l=l.apply(void 0,E)}if(l===!0&&(l=void 0),!l){if(l===void 0||l===!1)return l;throw new Error("`".concat(a,"` was specified but was not a node, or did not return a node"))}var T=l;if(typeof l=="string"&&(T=i.querySelector(l),!T))throw new Error("`".concat(a,"` as selector refers to no known node"));return T},h=function(){var a=p("initialFocus");if(a===!1)return!1;if(a===void 0||!Ce(a,r.tabbableOptions))if(u(i.activeElement)>=0)a=i.activeElement;else{var l=s.tabbableGroups[0],d=l&&l.firstTabbableNode;a=d||p("fallbackFocus")}if(!a)throw new Error("Your focus-trap needs to have at least one focusable element");return a},v=function(){if(s.containerGroups=s.containers.map(function(a){var l=qt(a,r.tabbableOptions),d=Yt(a,r.tabbableOptions),E=l.length>0?l[0]:void 0,P=l.length>0?l[l.length-1]:void 0,T=d.find(function(S){return J(S)}),L=d.slice().reverse().find(function(S){return J(S)}),M=!!l.find(function(S){return re(S)>0});return{container:a,tabbableNodes:l,focusableNodes:d,posTabIndexesFound:M,firstTabbableNode:E,lastTabbableNode:P,firstDomTabbableNode:T,lastDomTabbableNode:L,nextTabbableNode:function(G){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,V=l.indexOf(G);return V<0?oe?d.slice(d.indexOf(G)+1).find(function(se){return J(se)}):d.slice(0,d.indexOf(G)).reverse().find(function(se){return J(se)}):l[V+(oe?1:-1)]}}}),s.tabbableGroups=s.containerGroups.filter(function(a){return a.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!p("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(s.containerGroups.find(function(a){return a.posTabIndexesFound})&&s.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function k(a){var l=a.activeElement;if(l)return l.shadowRoot&&l.shadowRoot.activeElement!==null?k(l.shadowRoot):l},g=function k(a){if(a!==!1&&a!==m(document)){if(!a||!a.focus){k(h());return}a.focus({preventScroll:!!r.preventScroll}),s.mostRecentlyFocusedNode=a,ri(a)&&a.select()}},w=function(a){var l=p("setReturnFocus",a);return l||(l===!1?!1:a)},y=function(a){var l=a.target,d=a.event,E=a.isBackward,P=E===void 0?!1:E;l=l||me(d),v();var T=null;if(s.tabbableGroups.length>0){var L=u(l,d),M=L>=0?s.containerGroups[L]:void 0;if(L<0)P?T=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:T=s.tabbableGroups[0].firstTabbableNode;else if(P){var S=rt(s.tabbableGroups,function(Te){var Oe=Te.firstTabbableNode;return l===Oe});if(S<0&&(M.container===l||Ce(l,r.tabbableOptions)&&!J(l,r.tabbableOptions)&&!M.nextTabbableNode(l,!1))&&(S=L),S>=0){var G=S===0?s.tabbableGroups.length-1:S-1,oe=s.tabbableGroups[G];T=re(l)>=0?oe.lastTabbableNode:oe.lastDomTabbableNode}else le(d)||(T=M.nextTabbableNode(l,!1))}else{var V=rt(s.tabbableGroups,function(Te){var Oe=Te.lastTabbableNode;return l===Oe});if(V<0&&(M.container===l||Ce(l,r.tabbableOptions)&&!J(l,r.tabbableOptions)&&!M.nextTabbableNode(l))&&(V=L),V>=0){var se=V===s.tabbableGroups.length-1?0:V+1,He=s.tabbableGroups[se];T=re(l)>=0?He.firstTabbableNode:He.firstDomTabbableNode}else le(d)||(T=M.nextTabbableNode(l))}}else T=p("fallbackFocus");return T},b=function(a){var l=me(a);if(!(u(l,a)>=0)){if(ae(r.clickOutsideDeactivates,a)){c.deactivate({returnFocus:r.returnFocusOnDeactivate});return}ae(r.allowOutsideClick,a)||a.preventDefault()}},x=function(a){var l=me(a),d=u(l,a)>=0;if(d||l instanceof Document)d&&(s.mostRecentlyFocusedNode=l);else{a.stopImmediatePropagation();var E,P=!0;if(s.mostRecentlyFocusedNode)if(re(s.mostRecentlyFocusedNode)>0){var T=u(s.mostRecentlyFocusedNode),L=s.containerGroups[T].tabbableNodes;if(L.length>0){var M=L.findIndex(function(S){return S===s.mostRecentlyFocusedNode});M>=0&&(r.isKeyForward(s.recentNavEvent)?M+1<L.length&&(E=L[M+1],P=!1):M-1>=0&&(E=L[M-1],P=!1))}}else s.containerGroups.some(function(S){return S.tabbableNodes.some(function(G){return re(G)>0})})||(P=!1);else P=!1;P&&(E=y({target:s.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(s.recentNavEvent)})),g(E||s.mostRecentlyFocusedNode||h())}s.recentNavEvent=void 0},O=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s.recentNavEvent=a;var d=y({event:a,isBackward:l});d&&(le(a)&&a.preventDefault(),g(d))},A=function(a){if(ai(a)&&ae(r.escapeDeactivates,a)!==!1){a.preventDefault(),c.deactivate();return}(r.isKeyForward(a)||r.isKeyBackward(a))&&O(a,r.isKeyBackward(a))},C=function(a){var l=me(a);u(l,a)>=0||ae(r.clickOutsideDeactivates,a)||ae(r.allowOutsideClick,a)||(a.preventDefault(),a.stopImmediatePropagation())},B=function(){if(s.active)return ot.activateTrap(o,c),s.delayInitialFocusTimer=r.delayInitialFocus?st(function(){g(h())}):g(h()),i.addEventListener("focusin",x,!0),i.addEventListener("mousedown",b,{capture:!0,passive:!1}),i.addEventListener("touchstart",b,{capture:!0,passive:!1}),i.addEventListener("click",C,{capture:!0,passive:!1}),i.addEventListener("keydown",A,{capture:!0,passive:!1}),c},R=function(){if(s.active)return i.removeEventListener("focusin",x,!0),i.removeEventListener("mousedown",b,!0),i.removeEventListener("touchstart",b,!0),i.removeEventListener("click",C,!0),i.removeEventListener("keydown",A,!0),c},I=function(a){var l=a.some(function(d){var E=Array.from(d.removedNodes);return E.some(function(P){return P===s.mostRecentlyFocusedNode})});l&&g(h())},N=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(I):void 0,D=function(){N&&(N.disconnect(),s.active&&!s.paused&&s.containers.map(function(a){N.observe(a,{subtree:!0,childList:!0})}))};return c={get active(){return s.active},get paused(){return s.paused},activate:function(a){if(s.active)return this;var l=f(a,"onActivate"),d=f(a,"onPostActivate"),E=f(a,"checkCanFocusTrap");E||v(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=i.activeElement,l==null||l();var P=function(){E&&v(),B(),D(),d==null||d()};return E?(E(s.containers.concat()).then(P,P),this):(P(),this)},deactivate:function(a){if(!s.active)return this;var l=it({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},a);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,R(),s.active=!1,s.paused=!1,D(),ot.deactivateTrap(o,c);var d=f(l,"onDeactivate"),E=f(l,"onPostDeactivate"),P=f(l,"checkCanReturnFocus"),T=f(l,"returnFocus","returnFocusOnDeactivate");d==null||d();var L=function(){st(function(){T&&g(w(s.nodeFocusedBeforeActivation)),E==null||E()})};return T&&P?(P(w(s.nodeFocusedBeforeActivation)).then(L,L),this):(L(),this)},pause:function(a){if(s.paused||!s.active)return this;var l=f(a,"onPause"),d=f(a,"onPostPause");return s.paused=!0,l==null||l(),R(),D(),d==null||d(),this},unpause:function(a){if(!s.paused||!s.active)return this;var l=f(a,"onUnpause"),d=f(a,"onPostUnpause");return s.paused=!1,l==null||l(),v(),B(),D(),d==null||d(),this},updateContainerElements:function(a){var l=[].concat(a).filter(Boolean);return s.containers=l.map(function(d){return typeof d=="string"?i.querySelector(d):d}),s.active&&v(),D(),this}},c.updateContainerElements(e),c};function di(t,e){const{el:n}=t,i=(e==null?void 0:e.focusTrapEl)||n;if(!i)return;const o={clickOutsideDeactivates:!0,escapeDeactivates:!1,fallbackFocus:i,setReturnFocus:r=>(vt(r),!1),...e==null?void 0:e.focusTrapOptions,document:n.ownerDocument,tabbableOptions:Vt,trapStack:Ut};t.focusTrap=ui(i,o)}function at(t,e){var n;t.focusTrapDisabled||(n=t.focusTrap)==null||n.activate(e)}function Fe(t,e){var n;(n=t.focusTrap)==null||n.deactivate(e)}function hi(t){var e;(e=t.focusTrap)==null||e.updateContainerElements(t.el)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const pi=(t,e)=>{const n=t.level?`h${t.level}`:"div";return delete t.level,F(n,{...t},e)};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const ct={arrow:"calcite-floating-ui-arrow",arrowStroke:"calcite-floating-ui-arrow__stroke"},mi={width:12,height:6,strokeWidth:1},gi=({floatingLayout:t,key:e,ref:n})=>{const{width:i,height:o,strokeWidth:r}=mi,s=i/2,c=t==="vertical",f=`M0,0 H${i} L${i-s},${o} Q${s},${o} ${s},${o} Z`;return F("svg",{"aria-hidden":"true",class:ct.arrow,height:i,key:e,ref:n,viewBox:`0 0 ${i} ${i+(c?0:r)}`,width:i+(c?r:0)},r>0&&F("path",{class:ct.arrowStroke,d:f,fill:"none","stroke-width":r+1}),F("path",{d:f,stroke:"none"}))};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */class vi{constructor(){this.registeredElements=new Map,this.registeredElementCount=0,this.queryPopover=e=>{const{registeredElements:n}=this,i=e.find(o=>n.has(o));return n.get(i)},this.togglePopovers=e=>{const n=e.composedPath(),i=this.queryPopover(n);i&&!i.triggerDisabled&&(i.open=!i.open),Array.from(this.registeredElements.values()).filter(o=>o!==i&&o.autoClose&&o.open&&!n.includes(o)).forEach(o=>o.open=!1)},this.keyDownHandler=e=>{e.defaultPrevented||(e.key==="Escape"?this.closeAllPopovers():yt(e.key)&&this.togglePopovers(e))},this.clickHandler=e=>{Zt(e)||this.togglePopovers(e)}}registerElement(e,n){this.registeredElementCount++,this.registeredElements.set(e,n),this.registeredElementCount===1&&this.addListeners()}unregisterElement(e){this.registeredElements.delete(e)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}closeAllPopovers(){Array.from(this.registeredElements.values()).forEach(e=>e.open=!1)}addListeners(){window.addEventListener("click",this.clickHandler),window.addEventListener("keydown",this.keyDownHandler)}removeListeners(){window.removeEventListener("click",this.clickHandler),window.removeEventListener("keydown",this.keyDownHandler)}}const W={container:"container",imageContainer:"image-container",closeButtonContainer:"close-button-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContent:"header-content",heading:"heading"},bi="auto",lt="aria-controls",ft="aria-expanded",wi=":host{--calcite-floating-ui-z-index:var(--calcite-popover-z-index, var(--calcite-z-index-popup));display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index)}.calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:inset, left, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-z-index);border-radius:0.25rem}:host([data-placement^=bottom]) .calcite-floating-ui-anim{inset-block-start:-5px}:host([data-placement^=top]) .calcite-floating-ui-anim{inset-block-start:5px}:host([data-placement^=left]) .calcite-floating-ui-anim{left:5px}:host([data-placement^=right]) .calcite-floating-ui-anim{left:-5px}:host([data-placement]) .calcite-floating-ui-anim--active{opacity:1;inset-block:0;left:0}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-z-index) * -1);fill:var(--calcite-color-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-color-border-3)}:host([scale=s]) .heading{padding-inline:0.75rem;padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding-inline:1rem;padding-block:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding-inline:1.25rem;padding-block:1rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host{pointer-events:none}:host([open]){pointer-events:initial}.calcite-floating-ui-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-3);background-color:var(--calcite-color-foreground-1)}.arrow::before{outline:1px solid var(--calcite-color-border-3)}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-block-end-width:1px;border-style:solid;border-block-end-color:var(--calcite-color-border-3)}.heading{margin:0px;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1);word-wrap:break-word;word-break:break-word}.container{position:relative;display:flex;block-size:100%;flex-direction:row;flex-wrap:nowrap;border-radius:0.25rem;color:var(--calcite-color-text-1)}.container.has-header{flex-direction:column}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:0.25rem;border-end-end-radius:0.25rem}.has-header .close-button-container{border-end-end-radius:none}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%}:host([hidden]){display:none}[hidden]{display:none}",yi=wi,ut=new vi,xi=mt(class extends gt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calcitePopoverBeforeClose=ce(this,"calcitePopoverBeforeClose",6),this.calcitePopoverClose=ce(this,"calcitePopoverClose",6),this.calcitePopoverBeforeOpen=ce(this,"calcitePopoverBeforeOpen",6),this.calcitePopoverOpen=ce(this,"calcitePopoverOpen",6),this.mutationObserver=rn("mutation",()=>this.updateFocusTrapElements()),this.guid=`calcite-popover-${wt()}`,this.openTransitionProp="opacity",this.hasLoaded=!1,this.setTransitionEl=e=>{this.transitionEl=e},this.setFilteredPlacements=()=>{const{el:e,flipPlacements:n}=this;this.filteredFlipPlacements=n?Zn(n,e):null},this.setUpReferenceElement=(e=!0)=>{this.removeReferences(),this.effectiveReferenceElement=this.getReferenceElement(),ti(this,this.effectiveReferenceElement,this.el);const{el:n,referenceElement:i,effectiveReferenceElement:o}=this;e&&i&&!o&&console.warn(`${n.tagName}: reference-element id "${i}" was not found.`,{el:n}),this.addReferences()},this.getId=()=>this.el.id||this.guid,this.setExpandedAttr=()=>{const{effectiveReferenceElement:e,open:n}=this;e&&"setAttribute"in e&&e.setAttribute(ft,Re(n))},this.addReferences=()=>{const{effectiveReferenceElement:e}=this;if(!e)return;const n=this.getId();"setAttribute"in e&&e.setAttribute(lt,n),ut.registerElement(e,this.el),this.setExpandedAttr()},this.removeReferences=()=>{const{effectiveReferenceElement:e}=this;e&&("removeAttribute"in e&&(e.removeAttribute(lt),e.removeAttribute(ft)),ut.unregisterElement(e))},this.hide=()=>{this.open=!1},this.storeArrowEl=e=>{this.arrowEl=e,this.reposition(!0)},this.autoClose=!1,this.closable=!1,this.flipDisabled=!1,this.focusTrapDisabled=!1,this.pointerDisabled=!1,this.flipPlacements=void 0,this.heading=void 0,this.headingLevel=void 0,this.label=void 0,this.messageOverrides=void 0,this.messages=void 0,this.offsetDistance=ni,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=bi,this.referenceElement=void 0,this.scale="m",this.triggerDisabled=!1,this.effectiveLocale="",this.floatingLayout="vertical",this.effectiveReferenceElement=void 0,this.defaultMessages=void 0}handleFocusTrapDisabled(e){this.open&&(e?Fe(this):at(this))}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}onMessagesChange(){}offsetDistanceOffsetHandler(){this.reposition(!0)}offsetSkiddingHandler(){this.reposition(!0)}openHandler(){ze(this),this.reposition(!0),this.setExpandedAttr()}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}referenceElementHandler(){this.setUpReferenceElement(),this.reposition(!0)}effectiveLocaleChange(){tn(this,this.effectiveLocale)}connectedCallback(){this.setFilteredPlacements(),Qt(this),nn(this),di(this),requestAnimationFrame(()=>this.setUpReferenceElement(this.hasLoaded))}async componentWillLoad(){await on(this),xt(this)}componentDidLoad(){Et(this),this.referenceElement&&!this.effectiveReferenceElement&&this.setUpReferenceElement(),this.open&&ze(this),this.hasLoaded=!0}disconnectedCallback(){this.removeReferences(),Jt(this),sn(this),$t(this,this.effectiveReferenceElement,this.el),Fe(this)}async reposition(e=!1){const{el:n,effectiveReferenceElement:i,placement:o,overlayPositioning:r,flipDisabled:s,filteredFlipPlacements:c,offsetDistance:f,offsetSkidding:u,arrowEl:p}=this;return Qn(this,{floatingEl:n,referenceEl:i,overlayPositioning:r,placement:o,flipDisabled:s,flipPlacements:c,offsetDistance:f,offsetSkidding:u,arrowEl:p,type:"popover"},e)}async setFocus(){await Pt(this),Kt(this.el),Gt(this.el)}async updateFocusTrapElements(){hi(this)}getReferenceElement(){const{referenceElement:e,el:n}=this;return(typeof e=="string"?Xt(n,{id:e}):e)||null}onBeforeOpen(){this.calcitePopoverBeforeOpen.emit()}onOpen(){this.calcitePopoverOpen.emit(),at(this)}onBeforeClose(){this.calcitePopoverBeforeClose.emit()}onClose(){this.calcitePopoverClose.emit(),Fe(this)}renderCloseButton(){const{messages:e,closable:n}=this;return n?F("div",{class:W.closeButtonContainer,key:W.closeButtonContainer},F("calcite-action",{appearance:"transparent",class:W.closeButton,onClick:this.hide,ref:i=>this.closeButtonEl=i,scale:this.scale,text:e.close},F("calcite-icon",{icon:"x",scale:an(this.scale)}))):null}renderHeader(){const{heading:e,headingLevel:n}=this,i=e?F(pi,{class:W.heading,level:n},e):null;return i?F("div",{class:W.header,key:W.header},i,this.renderCloseButton()):null}render(){const{effectiveReferenceElement:e,heading:n,label:i,open:o,pointerDisabled:r,floatingLayout:s}=this,c=e&&o,f=!c,u=r?null:F(gi,{floatingLayout:s,key:"floating-arrow",ref:this.storeArrowEl});return F(Wt,{key:"6308b6043eae5d988238c1f4ab3427b903aba9b2","aria-hidden":Re(f),"aria-label":i,"aria-live":"polite","calcite-hydrated-hidden":f,id:this.getId(),role:"dialog"},F("div",{key:"241c19ccc94188c7819080dad91534e0f329d470",class:{[Je.animation]:!0,[Je.animationActive]:c},ref:this.setTransitionEl},u,F("div",{key:"0ca3856260eea02f75aceaa490519b596b8f1c29",class:{[W.hasHeader]:!!n,[W.container]:!0}},this.renderHeader(),F("div",{key:"cc3e385ce8ffda4d8dc8fa12866b80c28f621594",class:W.content},F("slot",{key:"b99e560f5ad3a74ae4f3421e1f3d6035de67fad0"})),n?null:this.renderCloseButton())))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{focusTrapDisabled:["handleFocusTrapDisabled"],flipPlacements:["flipPlacementsHandler"],messageOverrides:["onMessagesChange"],offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return yi}},[1,"calcite-popover",{autoClose:[516,"auto-close"],closable:[516],flipDisabled:[516,"flip-disabled"],focusTrapDisabled:[516,"focus-trap-disabled"],pointerDisabled:[516,"pointer-disabled"],flipPlacements:[16],heading:[1],headingLevel:[514,"heading-level"],label:[1],messageOverrides:[1040],messages:[1040],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],scale:[513],triggerDisabled:[516,"trigger-disabled"],effectiveLocale:[32],floatingLayout:[32],effectiveReferenceElement:[32],defaultMessages:[32],reposition:[64],setFocus:[64],updateFocusTrapElements:[64]},void 0,{focusTrapDisabled:["handleFocusTrapDisabled"],flipPlacements:["flipPlacementsHandler"],messageOverrides:["onMessagesChange"],offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"],effectiveLocale:["effectiveLocaleChange"]}]);function zt(){if(typeof customElements>"u")return;["calcite-popover","calcite-action","calcite-icon","calcite-loader"].forEach(e=>{switch(e){case"calcite-popover":customElements.get(e)||customElements.define(e,xi);break;case"calcite-action":customElements.get(e)||kt();break;case"calcite-icon":customElements.get(e)||Tt();break;case"calcite-loader":customElements.get(e)||bt();break}})}zt();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const dt={menu:"menu",defaultTrigger:"default-trigger"},ht={tooltip:"tooltip",trigger:"trigger"},Ei={menu:"ellipsis"},Pi="data-active",ki=":host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1)}::slotted(calcite-action-group:not(:last-of-type)){border-block-end-width:var(--calcite-border-width-sm)}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{display:flex;max-block-size:45vh;flex-direction:column;flex-wrap:nowrap;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px;gap:var(--calcite-action-menu-items-space, 0)}:host([hidden]){display:none}[hidden]{display:none}",Ti=ki,Oi=["ArrowUp","ArrowDown","End","Home"],Ci=mt(class extends gt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteActionMenuOpen=ce(this,"calciteActionMenuOpen",6),this.actionElements=[],this.guid=`calcite-action-menu-${wt()}`,this.menuId=`${this.guid}-menu`,this.menuButtonId=`${this.guid}-menu-button`,this.connectMenuButtonEl=()=>{const{menuButtonId:e,menuId:n,open:i,label:o}=this,r=this.slottedMenuButtonEl||this.defaultMenuButtonEl;this.menuButtonEl!==r&&(this.disconnectMenuButtonEl(),this.menuButtonEl=r,this.setTooltipReferenceElement(),r&&(r.active=i,r.setAttribute("aria-controls",n),r.setAttribute("aria-expanded",Re(i)),r.setAttribute("aria-haspopup","true"),r.id||(r.id=e),r.label||(r.label=o),r.text||(r.text=o),r.addEventListener("click",this.menuButtonClick),r.addEventListener("keydown",this.menuButtonKeyDown)))},this.disconnectMenuButtonEl=()=>{const{menuButtonEl:e}=this;e&&(e.removeEventListener("click",this.menuButtonClick),e.removeEventListener("keydown",this.menuButtonKeyDown))},this.setMenuButtonEl=e=>{const n=e.target.assignedElements({flatten:!0}).filter(i=>i==null?void 0:i.matches("calcite-action"));this.slottedMenuButtonEl=n[0],this.connectMenuButtonEl()},this.setDefaultMenuButtonEl=e=>{this.defaultMenuButtonEl=e,this.connectMenuButtonEl()},this.handleCalciteActionClick=()=>{this.open=!1,this.setFocus()},this.menuButtonClick=()=>{this.toggleOpen()},this.updateTooltip=e=>{const n=e.target.assignedElements({flatten:!0}).filter(i=>i==null?void 0:i.matches("calcite-tooltip"));this.tooltipEl=n[0],this.setTooltipReferenceElement()},this.setTooltipReferenceElement=()=>{const{tooltipEl:e,expanded:n,menuButtonEl:i,open:o}=this;e&&(e.referenceElement=!n&&!o?i:null)},this.updateAction=(e,n)=>{const{guid:i,activeMenuItemIndex:o}=this,r=`${i}-action-${n}`;e.tabIndex=-1,e.setAttribute("role","menuitem"),e.id||(e.id=r),e.toggleAttribute(Pi,n===o)},this.updateActions=e=>{e==null||e.forEach(this.updateAction)},this.handleDefaultSlotChange=e=>{const n=e.target.assignedElements({flatten:!0}).reduce((i,o)=>o!=null&&o.matches("calcite-action")?(i.push(o),i):o!=null&&o.matches("calcite-action-group")?i.concat(Array.from(o.querySelectorAll("calcite-action"))):i,[]);this.actionElements=n.filter(i=>!i.disabled&&!i.hidden)},this.menuButtonKeyDown=e=>{const{key:n}=e,{actionElements:i,activeMenuItemIndex:o,open:r}=this;if(i.length){if(yt(n)){if(e.preventDefault(),!r){this.toggleOpen();return}const s=i[o];s?s.click():this.toggleOpen(!1)}if(n==="Tab"){this.open=!1;return}if(n==="Escape"){this.toggleOpen(!1),e.preventDefault();return}this.handleActionNavigation(e,n,i)}},this.handleActionNavigation=(e,n,i)=>{if(!this.isValidKey(n,Oi))return;if(e.preventDefault(),!this.open){this.toggleOpen(),(n==="Home"||n==="ArrowDown")&&(this.activeMenuItemIndex=0),(n==="End"||n==="ArrowUp")&&(this.activeMenuItemIndex=i.length-1);return}n==="Home"&&(this.activeMenuItemIndex=0),n==="End"&&(this.activeMenuItemIndex=i.length-1);const o=this.activeMenuItemIndex;n==="ArrowUp"&&(this.activeMenuItemIndex=Ue(Math.max(o-1,-1),i.length)),n==="ArrowDown"&&(this.activeMenuItemIndex=Ue(o+1,i.length))},this.toggleOpenEnd=()=>{this.setFocus(),this.el.removeEventListener("calcitePopoverOpen",this.toggleOpenEnd)},this.toggleOpen=(e=!this.open)=>{this.el.addEventListener("calcitePopoverOpen",this.toggleOpenEnd),this.open=e},this.handlePopoverOpen=()=>{this.open=!0},this.handlePopoverClose=()=>{this.open=!1},this.appearance="solid",this.expanded=!1,this.flipPlacements=void 0,this.label=void 0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.scale=void 0,this.menuButtonEl=void 0,this.activeMenuItemIndex=-1}connectedCallback(){this.connectMenuButtonEl()}componentWillLoad(){xt(this)}componentDidLoad(){Et(this)}disconnectedCallback(){this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(e){this.activeMenuItemIndex=this.open?0:-1,this.menuButtonEl&&(this.menuButtonEl.active=e),this.calciteActionMenuOpen.emit(),this.setTooltipReferenceElement()}activeMenuItemIndexHandler(){this.updateActions(this.actionElements)}async setFocus(){return await Pt(this),vt(this.menuButtonEl)}renderMenuButton(){const{appearance:e,label:n,scale:i,expanded:o}=this;return F("slot",{name:ht.trigger,onSlotchange:this.setMenuButtonEl},F("calcite-action",{appearance:e,class:dt.defaultTrigger,icon:Ei.menu,ref:this.setDefaultMenuButtonEl,scale:i,text:n,textEnabled:o}))}renderMenuItems(){const{actionElements:e,activeMenuItemIndex:n,open:i,menuId:o,menuButtonEl:r,label:s,placement:c,overlayPositioning:f,flipPlacements:u}=this,p=e[n],h=(p==null?void 0:p.id)||null;return F("calcite-popover",{autoClose:!0,flipPlacements:u,focusTrapDisabled:!0,label:s,offsetDistance:0,onCalcitePopoverClose:this.handlePopoverClose,onCalcitePopoverOpen:this.handlePopoverOpen,open:i,overlayPositioning:f,placement:c,pointerDisabled:!0,referenceElement:r},F("div",{"aria-activedescendant":h,"aria-labelledby":r==null?void 0:r.id,class:dt.menu,id:o,onClick:this.handleCalciteActionClick,role:"menu",tabIndex:-1},F("slot",{onSlotchange:this.handleDefaultSlotChange})))}render(){return F(_t,{key:"9feaace5a0750686cc4ad4e7ac83859cc26a7a20"},this.renderMenuButton(),this.renderMenuItems(),F("slot",{key:"ba73adb74c8c729467f300fd4ff33c7af23f2ad7",name:ht.tooltip,onSlotchange:this.updateTooltip}))}isValidKey(e,n){return!!n.find(i=>i===e)}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}}static get style(){return Ti}},[1,"calcite-action-menu",{appearance:[513],expanded:[516],flipPlacements:[16],label:[1],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],scale:[513],menuButtonEl:[32],activeMenuItemIndex:[32],setFocus:[64]},void 0,{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}]);function Ai(){if(typeof customElements>"u")return;["calcite-action-menu","calcite-action","calcite-icon","calcite-loader","calcite-popover"].forEach(e=>{switch(e){case"calcite-action-menu":customElements.get(e)||customElements.define(e,Ci);break;case"calcite-action":customElements.get(e)||kt();break;case"calcite-icon":customElements.get(e)||Tt();break;case"calcite-loader":customElements.get(e)||bt();break;case"calcite-popover":customElements.get(e)||zt();break}})}Ai();export{pi as H,ht as S,Ai as a,Fe as b,di as c,zt as d,at as e,hi as u};
